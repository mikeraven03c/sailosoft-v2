import{c as oe,u as ae,a8 as p,B as ne,j as ie,g as re,r as k,a as g,a9 as le,m as se,aa as ue,n as ce,ab as de,w as A,o as H,ac as x,ad as j,C as fe,h as q,T as he,b as ge,U as ve}from"./index.d510ed45.js";import{u as me,v as D,d as ye,e as Te,f as pe,r as L,s as be,g as M,p as N,h as Se}from"./QMenu.e66367a1.js";const b={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},we=Object.keys(b);b.all=!0;function Ee(e){const t={};for(const r of we)e[r]===!0&&(t[r]=!0);return Object.keys(t).length===0?b:(t.horizontal===!0?t.left=t.right=!0:t.left===!0&&t.right===!0&&(t.horizontal=!0),t.vertical===!0?t.up=t.down=!0:t.up===!0&&t.down===!0&&(t.vertical=!0),t.horizontal===!0&&t.vertical===!0&&(t.all=!0),t)}const Pe=["INPUT","TEXTAREA"];function ke(e,t){return t.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof t.handler=="function"&&Pe.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(t.uid)===-1)}var Ae=oe({name:"QTooltip",inheritAttrs:!1,props:{...me,...ae,...p,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...p.transitionShow,default:"jump-down"},transitionHide:{...p.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:D},self:{type:String,default:"top middle",validator:D},offset:{type:Array,default:()=>[14,14],validator:ye},scrollTarget:ne,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...ie],setup(e,{slots:t,emit:r,attrs:v}){let l,s;const m=re(),{proxy:{$q:a}}=m,u=k(null),f=k(!1),B=g(()=>N(e.anchor,a.lang.rtl)),z=g(()=>N(e.self,a.lang.rtl)),U=g(()=>e.persistent!==!0),{registerTick:Q,removeTick:R}=le(),{registerTimeout:h}=se(),{transitionProps:W,transitionStyle:I}=ue(e),{localScrollTarget:S,changeScrollEvent:_,unconfigureScrollTarget:V}=Te(e,C),{anchorEl:n,canShow:X,anchorEvents:c}=pe({showing:f,configureAnchorEl:Z}),{show:$,hide:y}=ce({showing:f,canShow:X,handleShow:G,handleHide:J,hideOnRouteChange:U,processOnMount:!0});Object.assign(c,{delayShow:K,delayHide:Y});const{showPortal:w,hidePortal:P,renderPortal:F}=de(m,u,te,"tooltip");if(a.platform.is.mobile===!0){const o={anchorEl:n,innerRef:u,onClickOutside(i){return y(i),i.target.classList.contains("q-dialog__backdrop")&&ve(i),!0}},T=g(()=>e.modelValue===null&&e.persistent!==!0&&f.value===!0);A(T,i=>{(i===!0?Se:L)(o)}),H(()=>{L(o)})}function G(o){w(),Q(()=>{s=new MutationObserver(()=>d()),s.observe(u.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),d(),C()}),l===void 0&&(l=A(()=>a.screen.width+"|"+a.screen.height+"|"+e.self+"|"+e.anchor+"|"+a.lang.rtl,d)),h(()=>{w(!0),r("show",o)},e.transitionDuration)}function J(o){R(),P(),O(),h(()=>{P(!0),r("hide",o)},e.transitionDuration)}function O(){s!==void 0&&(s.disconnect(),s=void 0),l!==void 0&&(l(),l=void 0),V(),x(c,"tooltipTemp")}function d(){be({targetEl:u.value,offset:e.offset,anchorEl:n.value,anchorOrigin:B.value,selfOrigin:z.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function K(o){if(a.platform.is.mobile===!0){M(),document.body.classList.add("non-selectable");const T=n.value,i=["touchmove","touchcancel","touchend","click"].map(E=>[T,E,"delayHide","passiveCapture"]);j(c,"tooltipTemp",i)}h(()=>{$(o)},e.delay)}function Y(o){a.platform.is.mobile===!0&&(x(c,"tooltipTemp"),M(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),h(()=>{y(o)},e.hideDelay)}function Z(){if(e.noParentEvent===!0||n.value===null)return;const o=a.platform.is.mobile===!0?[[n.value,"touchstart","delayShow","passive"]]:[[n.value,"mouseenter","delayShow","passive"],[n.value,"mouseleave","delayHide","passive"]];j(c,"anchor",o)}function C(){if(n.value!==null||e.scrollTarget!==void 0){S.value=fe(n.value,e.scrollTarget);const o=e.noParentEvent===!0?d:y;_(S.value,o)}}function ee(){return f.value===!0?q("div",{...v,ref:u,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",v.class],style:[v.style,I.value],role:"tooltip"},ge(t.default)):null}function te(){return q(he,W.value,ee)}return H(O),Object.assign(m.proxy,{updatePosition:d}),F}});export{Ae as Q,Ee as g,ke as s};
