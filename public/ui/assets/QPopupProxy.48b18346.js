import{as as Oe,aj as j,D as pe,at as $e,ad as U,au as V,an as ae,U as K,ac as ee,r as z,a as y,w as N,q as he,g as I,h as f,T as He,bq as _e,b as D,br as Ee,c as R,f as ve,k as ge,x as Ne,bs as me,a8 as De,O as Re,t as ye,S as be,a4 as E,bt as je,av as we,b7 as Ce,ah as le,bu as Ie,o as Fe,aq as Qe,aM as Me,b1 as Ue}from"./index.d510ed45.js";import{g as se,s as ue,Q as Ke}from"./QTooltip.c04ed348.js";import{g as We,c as ke,b as ce,Q as Xe,i as Ge,f as Ye}from"./QMenu.e66367a1.js";import{u as Je,a as Ze,b as Ve}from"./QTabs.bab11733.js";function et(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((n,r)=>{const l=parseFloat(n);l&&(t[r]=l)}),t}var tt=Oe({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:r}){if(r.mouse!==!0&&j.has.touch!==!0)return;const l=r.mouseCapture===!0?"Capture":"",o={handler:t,sensitivity:et(n),direction:se(r),noop:pe,mouseStart(s){ue(s,o)&&$e(s)&&(U(o,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(s,!0))},touchStart(s){if(ue(s,o)){const c=s.target;U(o,"temp",[[c,"touchmove","move","notPassiveCapture"],[c,"touchcancel","end","notPassiveCapture"],[c,"touchend","end","notPassiveCapture"]]),o.start(s)}},start(s,c){j.is.firefox===!0&&V(e,!0);const C=ae(s);o.event={x:C.left,y:C.top,time:Date.now(),mouse:c===!0,dir:!1}},move(s){if(o.event===void 0)return;if(o.event.dir!==!1){K(s);return}const c=Date.now()-o.event.time;if(c===0)return;const C=ae(s),k=C.left-o.event.x,u=Math.abs(k),b=C.top-o.event.y,m=Math.abs(b);if(o.event.mouse!==!0){if(u<o.sensitivity[1]&&m<o.sensitivity[1]){o.end(s);return}}else if(window.getSelection().toString()!==""){o.end(s);return}else if(u<o.sensitivity[2]&&m<o.sensitivity[2])return;const h=u/c,x=m/c;o.direction.vertical===!0&&u<m&&u<100&&x>o.sensitivity[0]&&(o.event.dir=b<0?"up":"down"),o.direction.horizontal===!0&&u>m&&m<100&&h>o.sensitivity[0]&&(o.event.dir=k<0?"left":"right"),o.direction.up===!0&&u<m&&b<0&&u<100&&x>o.sensitivity[0]&&(o.event.dir="up"),o.direction.down===!0&&u<m&&b>0&&u<100&&x>o.sensitivity[0]&&(o.event.dir="down"),o.direction.left===!0&&u>m&&k<0&&m<100&&h>o.sensitivity[0]&&(o.event.dir="left"),o.direction.right===!0&&u>m&&k>0&&m<100&&h>o.sensitivity[0]&&(o.event.dir="right"),o.event.dir!==!1?(K(s),o.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),We(),o.styleCleanup=v=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const S=()=>{document.body.classList.remove("no-pointer-events--children")};v===!0?setTimeout(S,50):S()}),o.handler({evt:s,touch:o.event.mouse!==!0,mouse:o.event.mouse,direction:o.event.dir,duration:c,distance:{x:u,y:m}})):o.end(s)},end(s){o.event!==void 0&&(ee(o,"temp"),j.is.firefox===!0&&V(e,!1),o.styleCleanup!==void 0&&o.styleCleanup(!0),s!==void 0&&o.event.dir!==!1&&K(s),o.event=void 0)}};if(e.__qtouchswipe=o,r.mouse===!0){const s=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";U(o,"main",[[e,"mousedown","mouseStart",`passive${s}`]])}j.has.touch===!0&&U(o,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;n!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&n.end(),n.handler=t.value),n.direction=se(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(ee(t,"main"),ee(t,"temp"),j.is.firefox===!0&&V(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});function nt(){let e=Object.create(null);return{getCache:(t,n)=>e[t]===void 0?e[t]=typeof n=="function"?n():n:e[t],setCache(t,n){e[t]=n},hasCache(t){return Object.hasOwnProperty.call(e,t)},clearCache(t){t!==void 0?delete e[t]:e=Object.create(null)}}}const ot={name:{required:!0},disable:Boolean},de={setup(e,{slots:t}){return()=>f("div",{class:"q-panel scroll",role:"tabpanel"},D(t.default))}},it={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},rt=["update:modelValue","beforeTransition","transition"];function at(){const{props:e,emit:t,proxy:n}=I(),{getCache:r}=nt();let l,o;const s=z(null),c=z(null);function C(d){const w=e.vertical===!0?"up":"left";H((n.$q.lang.rtl===!0?-1:1)*(d.direction===w?1:-1))}const k=y(()=>[[tt,C,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),u=y(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),b=y(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),m=y(()=>`--q-transition-duration: ${e.transitionDuration}ms`),h=y(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),x=y(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),v=y(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);N(()=>e.modelValue,(d,w)=>{const B=q(d)===!0?p(d):-1;o!==!0&&F(B===-1?0:B<p(w)?-1:1),s.value!==B&&(s.value=B,t("beforeTransition",d,w),he(()=>{t("transition",d,w)}))});function S(){H(1)}function A(){H(-1)}function $(d){t("update:modelValue",d)}function q(d){return d!=null&&d!==""}function p(d){return l.findIndex(w=>w.props.name===d&&w.props.disable!==""&&w.props.disable!==!0)}function T(){return l.filter(d=>d.props.disable!==""&&d.props.disable!==!0)}function F(d){const w=d!==0&&e.animated===!0&&s.value!==-1?"q-transition--"+(d===-1?u.value:b.value):null;c.value!==w&&(c.value=w)}function H(d,w=s.value){let B=w+d;for(;B!==-1&&B<l.length;){const _=l[B];if(_!==void 0&&_.props.disable!==""&&_.props.disable!==!0){F(d),o=!0,t("update:modelValue",_.props.name),setTimeout(()=>{o=!1});return}B+=d}e.infinite===!0&&l.length!==0&&w!==-1&&w!==l.length&&H(d,d===-1?l.length:-1)}function Q(){const d=p(e.modelValue);return s.value!==d&&(s.value=d),!0}function M(){const d=q(e.modelValue)===!0&&Q()&&l[s.value];return e.keepAlive===!0?[f(Ee,x.value,[f(v.value===!0?r(h.value,()=>({...de,name:h.value})):de,{key:h.value,style:m.value},()=>d)])]:[f("div",{class:"q-panel scroll",style:m.value,key:h.value,role:"tabpanel"},[d])]}function W(){if(l.length!==0)return e.animated===!0?[f(He,{name:c.value},M)]:M()}function X(d){return l=_e(D(d.default,[])).filter(w=>w.props!==null&&w.props.slot===void 0&&q(w.props.name)===!0),l.length}function G(){return l}return Object.assign(n,{next:S,previous:A,goTo:$}),{panelIndex:s,panelDirectives:k,updatePanelsList:X,updatePanelIndex:Q,getPanelContent:W,getEnabledPanels:T,getPanels:G,isValidPanelName:q,keepAliveProps:x,needsUniqueKeepAliveWrapper:v,goToPanelByOffset:H,goToPanel:$,nextPanel:S,previousPanel:A}}var St=R({name:"QTabPanel",props:ot,setup(e,{slots:t}){return()=>f("div",{class:"q-tab-panel",role:"tabpanel"},D(t.default))}}),Pt=R({name:"QTabPanels",props:{...it,...ve},emits:rt,setup(e,{slots:t}){const n=I(),r=ge(e,n.proxy.$q),{updatePanelsList:l,getPanelContent:o,panelDirectives:s}=at(),c=y(()=>"q-tab-panels q-panel-parent"+(r.value===!0?" q-tab-panels--dark q-dark":""));return()=>(l(t),Ne("div",{class:c.value},o(),"pan",e.swipeable,()=>s.value))}});function Se(e,t){if(t&&e===t)return null;const n=e.nodeName.toLowerCase();if(["div","li","ul","ol","blockquote"].includes(n)===!0)return e;const r=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,l=r.display;return l==="block"||l==="table"?e:Se(e.parentNode)}function te(e,t,n){return!e||e===document.body?!1:n===!0&&e===t||(t===document?document.body:t).contains(e.parentNode)}function Pe(e,t,n){if(n||(n=document.createRange(),n.selectNode(e),n.setStart(e,0)),t.count===0)n.setEnd(e,t.count);else if(t.count>0)if(e.nodeType===Node.TEXT_NODE)e.textContent.length<t.count?t.count-=e.textContent.length:(n.setEnd(e,t.count),t.count=0);else for(let r=0;t.count!==0&&r<e.childNodes.length;r++)n=Pe(e.childNodes[r],t,n);return n}const lt=/^https?:\/\//;class st{constructor(t,n){this.el=t,this.eVm=n,this._range=null}get selection(){if(this.el){const t=document.getSelection();if(te(t.anchorNode,this.el,!0)&&te(t.focusNode,this.el,!0))return t}return null}get hasSelection(){return this.selection!==null?this.selection.toString().length!==0:!1}get range(){const t=this.selection;return t!==null&&t.rangeCount?t.getRangeAt(0):this._range}get parent(){const t=this.range;if(t!==null){const n=t.startContainer;return n.nodeType===document.ELEMENT_NODE?n:n.parentNode}return null}get blockParent(){const t=this.parent;return t!==null?Se(t,this.el):null}save(t=this.range){t!==null&&(this._range=t)}restore(t=this._range){const n=document.createRange(),r=document.getSelection();t!==null?(n.setStart(t.startContainer,t.startOffset),n.setEnd(t.endContainer,t.endOffset),r.removeAllRanges(),r.addRange(n)):(r.selectAllChildren(this.el),r.collapseToEnd())}savePosition(){let t=-1,n;const r=document.getSelection(),l=this.el.parentNode;if(r.focusNode&&te(r.focusNode,l))for(n=r.focusNode,t=r.focusOffset;n&&n!==l;)n!==this.el&&n.previousSibling?(n=n.previousSibling,t+=n.textContent.length):n=n.parentNode;this.savedPos=t}restorePosition(t=0){if(this.savedPos>0&&this.savedPos<t){const n=window.getSelection(),r=Pe(this.el,{count:this.savedPos});r&&(r.collapse(!1),n.removeAllRanges(),n.addRange(r))}}hasParent(t,n){const r=n?this.parent:this.blockParent;return r!==null?r.nodeName.toLowerCase()===t.toLowerCase():!1}hasParents(t,n,r=this.parent){return r===null?!1:t.includes(r.nodeName.toLowerCase())===!0?!0:n===!0?this.hasParents(t,n,r.parentNode):!1}is(t,n){if(this.selection===null)return!1;switch(t){case"formatBlock":return n==="DIV"&&this.parent===this.el||this.hasParent(n,n==="PRE");case"link":return this.hasParent("A",!0);case"fontSize":return document.queryCommandValue(t)===n;case"fontName":const r=document.queryCommandValue(t);return r===`"${n}"`||r===n;case"fullscreen":return this.eVm.inFullscreen.value;case"viewsource":return this.eVm.isViewingSource.value;case void 0:return!1;default:const l=document.queryCommandState(t);return n!==void 0?l===n:l}}getParentAttribute(t){return this.parent!==null?this.parent.getAttribute(t):null}can(t){if(t==="outdent")return this.hasParents(["blockquote","li"],!0);if(t==="indent")return this.hasParents(["li"],!0);if(t==="link")return this.selection!==null||this.is("link")}apply(t,n,r=pe){if(t==="formatBlock")["BLOCKQUOTE","H1","H2","H3","H4","H5","H6"].includes(n)&&this.is(t,n)&&(t="outdent",n=null),n==="PRE"&&this.is(t,"PRE")&&(n="P");else if(t==="print"){r();const l=window.open();l.document.write(`
        <!doctype html>
        <html>
          <head>
            <title>Print - ${document.title}</title>
          </head>
          <body>
            <div>${this.el.innerHTML}</div>
          </body>
        </html>
      `),l.print(),l.close();return}else if(t==="link"){const l=this.getParentAttribute("href");if(l===null){const o=this.selectWord(this.selection),s=o?o.toString():"";if(!s.length&&(!this.range||!this.range.cloneContents().querySelector("img")))return;this.eVm.editLinkUrl.value=lt.test(s)?s:"https://",document.execCommand("createLink",!1,this.eVm.editLinkUrl.value),this.save(o.getRangeAt(0))}else this.eVm.editLinkUrl.value=l,this.range.selectNodeContents(this.parent),this.save();return}else if(t==="fullscreen"){this.eVm.toggleFullscreen(),r();return}else if(t==="viewsource"){this.eVm.isViewingSource.value=this.eVm.isViewingSource.value===!1,this.eVm.setContent(this.eVm.props.modelValue),r();return}document.execCommand(t,!1,n),r()}selectWord(t){if(t===null||t.isCollapsed!==!0||t.modify===void 0)return t;const n=document.createRange();n.setStart(t.anchorNode,t.anchorOffset),n.setEnd(t.focusNode,t.focusOffset);const r=n.collapsed?["backward","forward"]:["forward","backward"];n.detach();const l=t.focusNode,o=t.focusOffset;return t.collapse(t.anchorNode,t.anchorOffset),t.modify("move",r[0],"character"),t.modify("move",r[1],"word"),t.extend(l,o),t.modify("extend",r[1],"character"),t.modify("extend",r[0],"word"),t}}var ut=R({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:t}){const n=y(()=>{const r=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(l=>e[l]===!0).map(l=>`q-btn-group--${l}`).join(" ");return`q-btn-group row no-wrap${r.length!==0?" "+r:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>f("div",{class:n.value},D(t.default))}});const ct=Object.keys(me);function dt(e){return ct.reduce((t,n)=>{const r=e[n];return r!==void 0&&(t[n]=r),t},{})}var ft=R({name:"QBtnDropdown",props:{...me,...De,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:t,emit:n}){const{proxy:r}=I(),l=z(e.modelValue),o=z(null),s=Re(),c=y(()=>{const p={"aria-expanded":l.value===!0?"true":"false","aria-haspopup":"true","aria-controls":s.value,"aria-label":e.toggleAriaLabel||r.$q.lang.label[l.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(p["aria-disabled"]="true"),p}),C=y(()=>"q-btn-dropdown__arrow"+(l.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),k=y(()=>je(e)),u=y(()=>dt(e));N(()=>e.modelValue,p=>{o.value!==null&&o.value[p?"show":"hide"]()}),N(()=>e.split,q);function b(p){l.value=!0,n("beforeShow",p)}function m(p){n("show",p),n("update:modelValue",!0)}function h(p){l.value=!1,n("beforeHide",p)}function x(p){n("hide",p),n("update:modelValue",!1)}function v(p){n("click",p)}function S(p){we(p),q(),n("click",p)}function A(p){o.value!==null&&o.value.toggle(p)}function $(p){o.value!==null&&o.value.show(p)}function q(p){o.value!==null&&o.value.hide(p)}return Object.assign(r,{show:$,hide:q,toggle:A}),ye(()=>{e.modelValue===!0&&$()}),()=>{const p=[f(be,{class:C.value,name:e.dropdownIcon||r.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&p.push(f(ke,{ref:o,id:s.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:b,onShow:m,onBeforeHide:h,onHide:x},t.default)),e.split===!1?f(E,{class:"q-btn-dropdown q-btn-dropdown--simple",...u.value,...c.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:v},{default:()=>D(t.label,[]).concat(p),loading:t.loading}):f(ut,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...k.value,glossy:e.glossy,stretch:e.stretch},()=>[f(E,{class:"q-btn-dropdown--current",...u.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:S},{default:t.label,loading:t.loading}),f(E,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...c.value,...k.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>p)])}}});function xe(e,t,n){t.handler?t.handler(e,n,n.caret):n.runCmd(t.cmd,t.param)}function oe(e){return f("div",{class:"q-editor__toolbar-group"},e)}function Te(e,t,n,r=!1){const l=r||(t.type==="toggle"?t.toggled?t.toggled(e):t.cmd&&e.caret.is(t.cmd,t.param):!1),o=[];if(t.tip&&e.$q.platform.is.desktop){const s=t.key?f("div",[f("small",`(CTRL + ${String.fromCharCode(t.key)})`)]):null;o.push(f(Ke,{delay:1e3},()=>[f("div",{innerHTML:t.tip}),s]))}return f(E,{...e.buttonProps.value,icon:t.icon!==null?t.icon:void 0,color:l?t.toggleColor||e.props.toolbarToggleColor:t.color||e.props.toolbarColor,textColor:l&&!e.props.toolbarPush?null:t.textColor||e.props.toolbarTextColor,label:t.label,disable:t.disable?typeof t.disable=="function"?t.disable(e):!0:!1,size:"sm",onClick(s){n&&n(),xe(s,t,e)}},()=>o)}function pt(e,t){const n=t.list==="only-icons";let r=t.label,l=t.icon!==null?t.icon:void 0,o,s;function c(){k.component.proxy.hide()}if(n)s=t.options.map(u=>{const b=u.type===void 0?e.caret.is(u.cmd,u.param):!1;return b&&(r=u.tip,l=u.icon!==null?u.icon:void 0),Te(e,u,c,b)}),o=e.toolbarBackgroundClass.value,s=[oe(s)];else{const u=e.props.toolbarToggleColor!==void 0?`text-${e.props.toolbarToggleColor}`:null,b=e.props.toolbarTextColor!==void 0?`text-${e.props.toolbarTextColor}`:null,m=t.list==="no-icons";s=t.options.map(h=>{const x=h.disable?h.disable(e):!1,v=h.type===void 0?e.caret.is(h.cmd,h.param):!1;v&&(r=h.tip,l=h.icon!==null?h.icon:void 0);const S=h.htmlTip;return f(Xe,{active:v,activeClass:u,clickable:!0,disable:x,dense:!0,onClick(A){c(),e.contentRef.value!==null&&e.contentRef.value.focus(),e.caret.restore(),xe(A,h,e)}},()=>[m===!0?null:f(ce,{class:v?u:b,side:!0},()=>f(be,{name:h.icon!==null?h.icon:void 0})),f(ce,S?()=>f("div",{class:"text-no-wrap",innerHTML:h.htmlTip}):h.tip?()=>f("div",{class:"text-no-wrap"},h.tip):void 0)])}),o=[e.toolbarBackgroundClass.value,b]}const C=t.highlight&&r!==t.label,k=f(ft,{...e.buttonProps.value,noCaps:!0,noWrap:!0,color:C?e.props.toolbarToggleColor:e.props.toolbarColor,textColor:C&&!e.props.toolbarPush?null:e.props.toolbarTextColor,label:t.fixedLabel?t.label:r,icon:t.fixedIcon?t.icon!==null?t.icon:void 0:l,contentClass:o,onShow:u=>e.emit("dropdownShow",u),onHide:u=>e.emit("dropdownHide",u),onBeforeShow:u=>e.emit("dropdownBeforeShow",u),onBeforeHide:u=>e.emit("dropdownBeforeHide",u)},()=>s);return k}function ht(e){if(e.caret)return e.buttons.value.filter(t=>!e.isViewingSource.value||t.find(n=>n.cmd==="viewsource")).map(t=>oe(t.map(n=>e.isViewingSource.value&&n.cmd!=="viewsource"?!1:n.type==="slot"?D(e.slots[n.slot]):n.type==="dropdown"?pt(e,n):Te(e,n))))}function vt(e,t,n,r={}){const l=Object.keys(r);if(l.length===0)return{};const o={default_font:{cmd:"fontName",param:e,icon:n,tip:t}};return l.forEach(s=>{const c=r[s];o[s]={cmd:"fontName",param:c,icon:n,tip:c,htmlTip:`<font face="${c}">${c}</font>`}}),o}function gt(e){if(e.caret){const t=e.props.toolbarColor||e.props.toolbarTextColor;let n=e.editLinkUrl.value;const r=()=>{e.caret.restore(),n!==e.editLinkUrl.value&&document.execCommand("createLink",!1,n===""?" ":n),e.editLinkUrl.value=null};return[f("div",{class:`q-mx-xs text-${t}`},`${e.$q.lang.editor.url}: `),f("input",{key:"qedt_btm_input",class:"col q-editor__link-input",value:n,onInput:l=>{we(l),n=l.target.value},onKeydown:l=>{if(Ce(l)!==!0)switch(l.keyCode){case 13:return le(l),r();case 27:le(l),e.caret.restore(),(!e.editLinkUrl.value||e.editLinkUrl.value==="https://")&&document.execCommand("unlink"),e.editLinkUrl.value=null;break}}}),oe([f(E,{key:"qedt_btm_rem",tabindex:-1,...e.buttonProps.value,label:e.$q.lang.label.remove,noCaps:!0,onClick:()=>{e.caret.restore(),document.execCommand("unlink"),e.editLinkUrl.value=null}}),f(E,{key:"qedt_btm_upd",...e.buttonProps.value,label:e.$q.lang.label.update,noCaps:!0,onClick:r})])]}}const mt=Object.prototype.toString,ne=Object.prototype.hasOwnProperty,yt=new Set(["Boolean","Number","String","Function","Array","Date","RegExp"].map(e=>"[object "+e+"]"));function fe(e){if(e!==Object(e)||yt.has(mt.call(e))===!0||e.constructor&&ne.call(e,"constructor")===!1&&ne.call(e.constructor.prototype,"isPrototypeOf")===!1)return!1;let t;for(t in e);return t===void 0||ne.call(e,t)}function qe(){let e,t,n,r,l,o,s=arguments[0]||{},c=1,C=!1;const k=arguments.length;for(typeof s=="boolean"&&(C=s,s=arguments[1]||{},c=2),Object(s)!==s&&typeof s!="function"&&(s={}),k===c&&(s=this,c--);c<k;c++)if((e=arguments[c])!==null)for(t in e)n=s[t],r=e[t],s!==r&&(C===!0&&r&&((l=Array.isArray(r))||fe(r)===!0)?(l===!0?o=Array.isArray(n)===!0?n:[]:o=fe(n)===!0?n:{},s[t]=qe(C,o,r)):r!==void 0&&(s[t]=r));return s}var xt=R({name:"QEditor",props:{...ve,...Je,modelValue:{type:String,required:!0},readonly:Boolean,disable:Boolean,minHeight:{type:String,default:"10rem"},maxHeight:String,height:String,definitions:Object,fonts:Object,placeholder:String,toolbar:{type:Array,validator:e=>e.length===0||e.every(t=>t.length),default:()=>[["left","center","right","justify"],["bold","italic","underline","strike"],["undo","redo"]]},toolbarColor:String,toolbarBg:String,toolbarTextColor:String,toolbarToggleColor:{type:String,default:"primary"},toolbarOutline:Boolean,toolbarPush:Boolean,toolbarRounded:Boolean,paragraphTag:{type:String,validator:e=>["div","p"].includes(e),default:"div"},contentStyle:Object,contentClass:[Object,Array,String],square:Boolean,flat:Boolean,dense:Boolean},emits:[...Ze,"update:modelValue","keydown","click","focus","blur","dropdownShow","dropdownHide","dropdownBeforeShow","dropdownBeforeHide","linkShow","linkHide"],setup(e,{slots:t,emit:n}){const{proxy:r}=I(),{$q:l}=r,o=ge(e,l),{inFullscreen:s,toggleFullscreen:c}=Ve(),C=Ie(),k=z(null),u=z(null),b=z(null),m=z(!1),h=y(()=>!e.readonly&&!e.disable);let x,v,S=e.modelValue;document.execCommand("defaultParagraphSeparator",!1,e.paragraphTag),x=window.getComputedStyle(document.body).fontFamily;const A=y(()=>e.toolbarBg?` bg-${e.toolbarBg}`:""),$=y(()=>{const i=e.toolbarOutline!==!0&&e.toolbarPush!==!0;return{type:"a",flat:i,noWrap:!0,outline:e.toolbarOutline,push:e.toolbarPush,rounded:e.toolbarRounded,dense:!0,color:e.toolbarColor,disable:!h.value,size:"sm"}}),q=y(()=>{const i=l.lang.editor,a=l.iconSet.editor;return{bold:{cmd:"bold",icon:a.bold,tip:i.bold,key:66},italic:{cmd:"italic",icon:a.italic,tip:i.italic,key:73},strike:{cmd:"strikeThrough",icon:a.strikethrough,tip:i.strikethrough,key:83},underline:{cmd:"underline",icon:a.underline,tip:i.underline,key:85},unordered:{cmd:"insertUnorderedList",icon:a.unorderedList,tip:i.unorderedList},ordered:{cmd:"insertOrderedList",icon:a.orderedList,tip:i.orderedList},subscript:{cmd:"subscript",icon:a.subscript,tip:i.subscript,htmlTip:"x<subscript>2</subscript>"},superscript:{cmd:"superscript",icon:a.superscript,tip:i.superscript,htmlTip:"x<superscript>2</superscript>"},link:{cmd:"link",disable:g=>g.caret&&!g.caret.can("link"),icon:a.hyperlink,tip:i.hyperlink,key:76},fullscreen:{cmd:"fullscreen",icon:a.toggleFullscreen,tip:i.toggleFullscreen,key:70},viewsource:{cmd:"viewsource",icon:a.viewSource,tip:i.viewSource},quote:{cmd:"formatBlock",param:"BLOCKQUOTE",icon:a.quote,tip:i.quote,key:81},left:{cmd:"justifyLeft",icon:a.left,tip:i.left},center:{cmd:"justifyCenter",icon:a.center,tip:i.center},right:{cmd:"justifyRight",icon:a.right,tip:i.right},justify:{cmd:"justifyFull",icon:a.justify,tip:i.justify},print:{type:"no-state",cmd:"print",icon:a.print,tip:i.print,key:80},outdent:{type:"no-state",disable:g=>g.caret&&!g.caret.can("outdent"),cmd:"outdent",icon:a.outdent,tip:i.outdent},indent:{type:"no-state",disable:g=>g.caret&&!g.caret.can("indent"),cmd:"indent",icon:a.indent,tip:i.indent},removeFormat:{type:"no-state",cmd:"removeFormat",icon:a.removeFormat,tip:i.removeFormat},hr:{type:"no-state",cmd:"insertHorizontalRule",icon:a.hr,tip:i.hr},undo:{type:"no-state",cmd:"undo",icon:a.undo,tip:i.undo,key:90},redo:{type:"no-state",cmd:"redo",icon:a.redo,tip:i.redo,key:89},h1:{cmd:"formatBlock",param:"H1",icon:a.heading1||a.heading,tip:i.heading1,htmlTip:`<h1 class="q-ma-none">${i.heading1}</h1>`},h2:{cmd:"formatBlock",param:"H2",icon:a.heading2||a.heading,tip:i.heading2,htmlTip:`<h2 class="q-ma-none">${i.heading2}</h2>`},h3:{cmd:"formatBlock",param:"H3",icon:a.heading3||a.heading,tip:i.heading3,htmlTip:`<h3 class="q-ma-none">${i.heading3}</h3>`},h4:{cmd:"formatBlock",param:"H4",icon:a.heading4||a.heading,tip:i.heading4,htmlTip:`<h4 class="q-ma-none">${i.heading4}</h4>`},h5:{cmd:"formatBlock",param:"H5",icon:a.heading5||a.heading,tip:i.heading5,htmlTip:`<h5 class="q-ma-none">${i.heading5}</h5>`},h6:{cmd:"formatBlock",param:"H6",icon:a.heading6||a.heading,tip:i.heading6,htmlTip:`<h6 class="q-ma-none">${i.heading6}</h6>`},p:{cmd:"formatBlock",param:e.paragraphTag,icon:a.heading,tip:i.paragraph},code:{cmd:"formatBlock",param:"PRE",icon:a.code,htmlTip:`<code>${i.code}</code>`},"size-1":{cmd:"fontSize",param:"1",icon:a.size1||a.size,tip:i.size1,htmlTip:`<font size="1">${i.size1}</font>`},"size-2":{cmd:"fontSize",param:"2",icon:a.size2||a.size,tip:i.size2,htmlTip:`<font size="2">${i.size2}</font>`},"size-3":{cmd:"fontSize",param:"3",icon:a.size3||a.size,tip:i.size3,htmlTip:`<font size="3">${i.size3}</font>`},"size-4":{cmd:"fontSize",param:"4",icon:a.size4||a.size,tip:i.size4,htmlTip:`<font size="4">${i.size4}</font>`},"size-5":{cmd:"fontSize",param:"5",icon:a.size5||a.size,tip:i.size5,htmlTip:`<font size="5">${i.size5}</font>`},"size-6":{cmd:"fontSize",param:"6",icon:a.size6||a.size,tip:i.size6,htmlTip:`<font size="6">${i.size6}</font>`},"size-7":{cmd:"fontSize",param:"7",icon:a.size7||a.size,tip:i.size7,htmlTip:`<font size="7">${i.size7}</font>`}}}),p=y(()=>{const i=e.definitions||{},a=e.definitions||e.fonts?qe(!0,{},q.value,i,vt(x,l.lang.editor.defaultFont,l.iconSet.editor.font,e.fonts)):q.value;return e.toolbar.map(g=>g.map(P=>{if(P.options)return{type:"dropdown",icon:P.icon,label:P.label,size:"sm",dense:!0,fixedLabel:P.fixedLabel,fixedIcon:P.fixedIcon,highlight:P.highlight,list:P.list,options:P.options.map(Le=>a[Le])};const L=a[P];return L?L.type==="no-state"||i[P]&&(L.cmd===void 0||q.value[L.cmd]&&q.value[L.cmd].type==="no-state")?L:Object.assign({type:"toggle"},L):{type:"slot",slot:P}}))}),T={$q:l,props:e,slots:t,emit:n,inFullscreen:s,toggleFullscreen:c,runCmd:J,isViewingSource:m,editLinkUrl:b,toolbarBackgroundClass:A,buttonProps:$,contentRef:u,buttons:p,setContent:Y};N(()=>e.modelValue,i=>{S!==i&&(S=i,Y(i,!0))}),N(b,i=>{n(`link${i?"Show":"Hide"}`)});const F=y(()=>e.toolbar&&e.toolbar.length!==0),H=y(()=>{const i={},a=g=>{g.key&&(i[g.key]={cmd:g.cmd,param:g.param})};return p.value.forEach(g=>{g.forEach(P=>{P.options?P.options.forEach(a):a(P)})}),i}),Q=y(()=>s.value?e.contentStyle:[{minHeight:e.minHeight,height:e.height,maxHeight:e.maxHeight},e.contentStyle]),M=y(()=>`q-editor q-editor--${m.value===!0?"source":"default"}`+(e.disable===!0?" disabled":"")+(s.value===!0?" fullscreen column":"")+(e.square===!0?" q-editor--square no-border-radius":"")+(e.flat===!0?" q-editor--flat":"")+(e.dense===!0?" q-editor--dense":"")+(o.value===!0?" q-editor--dark q-dark":"")),W=y(()=>[e.contentClass,"q-editor__content",{col:s.value,"overflow-auto":s.value||e.maxHeight}]),X=y(()=>e.disable===!0?{"aria-disabled":"true"}:{});function G(){if(u.value!==null){const i=`inner${m.value===!0?"Text":"HTML"}`,a=u.value[i];a!==e.modelValue&&(S=a,n("update:modelValue",a))}}function d(i){if(n("keydown",i),i.ctrlKey!==!0||Ce(i)===!0){O();return}const a=i.keyCode,g=H.value[a];if(g!==void 0){const{cmd:P,param:L}=g;K(i),J(P,L,!1)}}function w(i){O(),n("click",i)}function B(i){if(u.value!==null){const{scrollTop:a,scrollHeight:g}=u.value;v=g-a}T.caret.save(),n("blur",i)}function _(i){he(()=>{u.value!==null&&v!==void 0&&(u.value.scrollTop=u.value.scrollHeight-v)}),n("focus",i)}function Be(i){const a=k.value;if(a!==null&&a.contains(i.target)===!0&&(i.relatedTarget===null||a.contains(i.relatedTarget)!==!0)){const g=`inner${m.value===!0?"Text":"HTML"}`;T.caret.restorePosition(u.value[g].length),O()}}function ze(i){const a=k.value;a!==null&&a.contains(i.target)===!0&&(i.relatedTarget===null||a.contains(i.relatedTarget)!==!0)&&(T.caret.savePosition(),O())}function ie(){v=void 0}function re(i){T.caret.save()}function Y(i,a){if(u.value!==null){a===!0&&T.caret.savePosition();const g=`inner${m.value===!0?"Text":"HTML"}`;u.value[g]=i,a===!0&&(T.caret.restorePosition(u.value[g].length),O())}}function J(i,a,g=!0){Z(),T.caret.restore(),T.caret.apply(i,a,()=>{Z(),T.caret.save(),g&&O()})}function O(){setTimeout(()=>{b.value=null,r.$forceUpdate()},1)}function Z(){Qe(()=>{u.value!==null&&u.value.focus({preventScroll:!0})})}function Ae(){return u.value}return ye(()=>{T.caret=r.caret=new st(u.value,T),Y(e.modelValue),O(),document.addEventListener("selectionchange",re)}),Fe(()=>{document.removeEventListener("selectionchange",re)}),Object.assign(r,{runCmd:J,refreshToolbar:O,focus:Z,getContentEl:Ae}),()=>{let i;if(F.value){const a=[f("div",{key:"qedt_top",class:"q-editor__toolbar row no-wrap scroll-x"+A.value},ht(T))];b.value!==null&&a.push(f("div",{key:"qedt_btm",class:"q-editor__toolbar row no-wrap items-center scroll-x"+A.value},gt(T))),i=f("div",{key:"toolbar_ctainer",class:"q-editor__toolbars-container"},a)}return f("div",{ref:k,class:M.value,style:{height:s.value===!0?"100%":null},...X.value,onFocusin:Be,onFocusout:ze},[i,f("div",{ref:u,style:Q.value,class:W.value,contenteditable:h.value,placeholder:e.placeholder,...C.listeners.value,onInput:G,onKeydown:d,onClick:w,onBlur:B,onFocus:_,onMousedown:ie,onTouchstartPassive:ie})])}}}),Tt=R({name:"QPopupProxy",props:{...Ge,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:n,attrs:r}){const{proxy:l}=I(),{$q:o}=l,s=z(!1),c=z(null),C=y(()=>parseInt(e.breakpoint,10)),{canShow:k}=Ye({showing:s});function u(){return o.screen.width<C.value||o.screen.height<C.value?"dialog":"menu"}const b=z(u()),m=y(()=>b.value==="menu"?{maxHeight:"99vh"}:{});N(()=>u(),v=>{s.value!==!0&&(b.value=v)});function h(v){s.value=!0,n("show",v)}function x(v){s.value=!1,b.value=u(),n("hide",v)}return Object.assign(l,{show(v){k(v)===!0&&c.value.show(v)},hide(v){c.value.hide(v)},toggle(v){c.value.toggle(v)}}),Me(l,"currentComponent",()=>({type:b.value,ref:c.value})),()=>{const v={ref:c,...m.value,...r,onShow:h,onHide:x};let S;return b.value==="dialog"?S=Ue:(S=ke,Object.assign(v,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),f(S,v,t.default)}}});export{Pt as Q,St as a,xt as b,Tt as c,nt as u};
