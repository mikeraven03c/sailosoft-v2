import{I as k,_,a as C}from"./ResourceForm.affcb3a8.js";import{F as H,a as h}from"./FormModal.bf50ce24.js";import{aA as g,a as x,q as y,t as v,V as n,Y as w,$ as m,aw as F,ax as O,X as A,W as B,ay as M,az as P,a7 as i}from"./index.d510ed45.js";import"./QTabs.bab11733.js";import"./QResizeObserver.076847df.js";import"./QSelect.3cee18ec.js";import"./QMenu.e66367a1.js";import"./QList.74fe262e.js";import"./QSpace.6f68aa3e.js";const q={__name:"BaseResourcePage",props:{template:{type:Object,default:()=>{}}},setup(f){const{template:l}=f,o={...l},a=H(),r=k({title:o.title,url:o.url,conditions:o.filters?o.filters:""}),e=h({title:o.title,url:o.url,initialValues:o.formInitialValues});o.formHandleHooks=a,o.formHooks=e,o.indexHooks=r;const{form:c}=a,p=g(o.formTemplate),d=x(()=>p),{resetFetch:u,refresh:s}=r;return o.formConfig&&(o.formConfig.formShowAfterCreate&&(e.hooksCycle.resolveCreate=t=>{y(()=>{e.actions.form.show(t)})}),o.formConfig.formShowAfterUpdate&&(e.hooksCycle.resolveUpdate=t=>{e.actions.form.show(t)})),v(()=>{s()}),(t,U)=>(n(),w("div",null,[m(_,F(O(o)),null,16),m(C,P({ref_key:"form",ref:c},o,{onOnCreate:i(u),onOnUpdate:i(s)}),{default:A(()=>[(n(),B(M(d.value),{formHooks:o.formHooks},null,8,["formHooks"]))]),_:1},16,["onOnCreate","onOnUpdate"])]))}};export{q as default};
