import{V as m,Y as y,$ as r,X as p,aT as i,a7 as e,W as V,S as $,bm as N,a0 as g,a1 as q,Z as C,_ as U,a4 as c,a6 as S}from"./index.d510ed45.js";import{Q as B,b as O}from"./QMenu.e66367a1.js";import{Q as A}from"./QSelect.3cee18ec.js";import{Q as D}from"./QForm.75657b46.js";import{s as z,_ as I}from"./OrganizationFormTemplate.13555752.js";import{s as M}from"./selectRenderHooks.dfbe8647.js";import{a as P,_ as R}from"./FormModal.bf50ce24.js";import{_ as w}from"./TagComponent.ebd5106e.js";import"./QSpace.6f68aa3e.js";const E=S("div",{class:"text-h6 q-my-md"},"Address",-1),J={__name:"ContactFormTemplate",props:{formHooks:Object},setup(F){const{formHooks:Q}=F,{formData:o,formReadonly:t,formError:n,hooksCycle:H}=Q,k=M({url:"custom-apps/organizations",map:s=>({label:s.name,value:s.id})}),{options:_}=k,b=z(o,"emails"),v=z(o,"phones"),u=P({title:"Organization",url:"custom-apps/organizations"});return u.hooksCycle.afterCreate=s=>{o.value.organization={label:s.name,value:s.id}},H.afterResolve=s=>(s.organization&&(s.organization_id=s.organization.value),s),(s,l)=>(m(),y("div",null,[r(D,{class:"q-gutter-md q-mt-xs"},{default:p(()=>[r(i,{modelValue:e(o).name,"onUpdate:modelValue":l[0]||(l[0]=a=>e(o).name=a),filled:"",label:"Contact Name *",outlined:"","hide-bottom-space":"",dense:"",hint:"required",readonly:e(t),"error-message":e(n).name,error:e(n).name!==void 0},null,8,["modelValue","readonly","error-message","error"]),r(i,{modelValue:e(o).label,"onUpdate:modelValue":l[1]||(l[1]=a=>e(o).label=a),filled:"",label:"Label",outlined:"","hide-bottom-space":"",dense:"",readonly:e(t)},null,8,["modelValue","readonly"]),r(A,{filled:"","use-input":"",modelValue:e(o).organization,"onUpdate:modelValue":l[3]||(l[3]=a=>e(o).organization=a),label:"Organization","input-debounce":"1000",options:e(_),dense:"",clearable:"",onFilter:e(k).filterFn,onFilterAbort:e(k).abortFilterFn,readonly:e(t)},{append:p(()=>[e(o).organization?g("",!0):(m(),V($,{key:0,class:"cursor-pointer",name:"add_circle",onClick:l[2]||(l[2]=N(a=>e(u).actions.form.create(),["stop","prevent"]))}))]),"no-option":p(()=>[r(B,null,{default:p(()=>[r(O,{class:"text-grey"},{default:p(()=>[q(" No results ")]),_:1})]),_:1})]),_:1},8,["modelValue","options","onFilter","onFilterAbort","readonly"]),(m(!0),y(C,null,U(e(o).emails,(a,d)=>(m(),y("div",{key:d},[r(i,{readonly:e(t),type:"email",dense:"",filled:"",modelValue:e(o).emails[d],"onUpdate:modelValue":f=>e(o).emails[d]=f,label:"Email"},{append:p(()=>[e(b).isDisplayAdd(d)?(m(),V(c,{key:0,round:"",dense:"",flat:"",icon:"add",onClick:e(b).add},null,8,["onClick"])):g("",!0),e(b).isDisplayRemove(d)?(m(),V(c,{key:1,round:"",dense:"",flat:"",icon:"close",onClick:f=>e(b).remove(d)},null,8,["onClick"])):g("",!0)]),_:2},1032,["readonly","modelValue","onUpdate:modelValue"])]))),128)),(m(!0),y(C,null,U(e(o).phones,(a,d)=>(m(),y("div",{key:d},[r(i,{readonly:e(t),dense:"",filled:"",modelValue:e(o).phones[d],"onUpdate:modelValue":f=>e(o).phones[d]=f,label:"Phone"},{append:p(()=>[e(v).isDisplayAdd(d)?(m(),V(c,{key:0,round:"",dense:"",flat:"",icon:"add",onClick:e(v).add},null,8,["onClick"])):g("",!0),e(v).isDisplayRemove(d)?(m(),V(c,{key:1,round:"",dense:"",flat:"",icon:"close",onClick:f=>e(v).remove(d)},null,8,["onClick"])):g("",!0)]),_:2},1032,["readonly","modelValue","onUpdate:modelValue"])]))),128)),r(w,{modelValue:e(o).tags,"onUpdate:modelValue":l[4]||(l[4]=a=>e(o).tags=a),modelModifiers:{value:!0},resource:"contacts",label:"Tags",readonly:e(t),error:e(n).tags},null,8,["modelValue","readonly","error"]),E,r(i,{modelValue:e(o).house_unit,"onUpdate:modelValue":l[5]||(l[5]=a=>e(o).house_unit=a),filled:"",label:"House/Unit Number",outlined:"","hide-bottom-space":"",dense:"",readonly:e(t),"error-message":e(n).house_unit,error:e(n).house_unit!==void 0},null,8,["modelValue","readonly","error-message","error"]),r(i,{modelValue:e(o).street_name,"onUpdate:modelValue":l[6]||(l[6]=a=>e(o).street_name=a),filled:"",label:"Street Name",outlined:"","hide-bottom-space":"",dense:"",readonly:e(t),"error-message":e(n).street_name,error:e(n).street_name!==void 0},null,8,["modelValue","readonly","error-message","error"]),r(i,{modelValue:e(o).subdivision,"onUpdate:modelValue":l[7]||(l[7]=a=>e(o).subdivision=a),filled:"",label:"Subdivision",outlined:"","hide-bottom-space":"",dense:"",readonly:e(t),"error-message":e(n).subdivision,error:e(n).subdivision!==void 0},null,8,["modelValue","readonly","error-message","error"]),r(i,{modelValue:e(o).barangay,"onUpdate:modelValue":l[8]||(l[8]=a=>e(o).barangay=a),filled:"",label:"Barangay",outlined:"","hide-bottom-space":"",dense:"",readonly:e(t),"error-message":e(n).barangay,error:e(n).barangay!==void 0},null,8,["modelValue","readonly","error-message","error"]),r(i,{modelValue:e(o).city,"onUpdate:modelValue":l[9]||(l[9]=a=>e(o).city=a),filled:"",label:"City/Municipality",outlined:"","hide-bottom-space":"",dense:"",readonly:e(t),"error-message":e(n).city,error:e(n).city!==void 0},null,8,["modelValue","readonly","error-message","error"]),r(i,{modelValue:e(o).province,"onUpdate:modelValue":l[10]||(l[10]=a=>e(o).province=a),filled:"",label:"Province",outlined:"","hide-bottom-space":"",dense:"",readonly:e(t),"error-message":e(n).province,error:e(n).province!==void 0},null,8,["modelValue","readonly","error-message","error"]),r(i,{modelValue:e(o).postal_code,"onUpdate:modelValue":l[11]||(l[11]=a=>e(o).postal_code=a),filled:"",label:"Postal Code ",outlined:"","hide-bottom-space":"",dense:"",readonly:e(t),"error-message":e(n).postal_code,error:e(n).postal_code!==void 0},null,8,["modelValue","readonly","error-message","error"])]),_:1}),r(R,{modelValue:e(u).formShow.value,"onUpdate:modelValue":l[12]||(l[12]=a=>e(u).formShow.value=a),mode:e(u).formMode.value,title:"Organization",loading:e(u).formProcessing.value,onOnCreate:l[13]||(l[13]=a=>e(u).onCreate({})),onOnUpdate:l[14]||(l[14]=a=>e(u).onUpdate({}))},{form:p(()=>[r(I,{formHooks:e(u)},null,8,["formHooks"])]),_:1},8,["modelValue","mode","loading"])]))}};export{J as default};
