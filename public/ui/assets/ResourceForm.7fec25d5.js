import{c as be,h as s,b as xe,d as Qt,a1 as we,g as ge,y as ft,A as bt,a as v,M as zt,r as I,w as ae,N as Ut,O as St,aC as Rt,G as gt,aD as xt,aE as $t,o as tt,V as mt,aF as Wt,aG as Kt,aH as Gt,aI as wt,aJ as ct,aK as Ct,aL as Xt,E as Bt,aM as Yt,aN as ot,aO as Ae,ad as fe,$ as Jt,aP as Zt,aQ as rt,aR as el,a2 as le,a5 as Ne,a8 as Z,af as je,a3 as ue,a4 as K,a6 as dt,a7 as vt,H as Re,aa as Se,ab as Ve,a9 as Ze,i as tl,e as it,aS as Ot,aT as ll,v as _t,am as al,aU as nl,aV as ol,_ as rl,ai as st,B as qt,K as il,ag as Q,aW as sl,aX as et,aY as ul,aZ as cl}from"./index.62a56d21.js";import{a as Ft,Q as dl}from"./QResizeObserver.ca43569d.js";import{u as vl,a as fl,c as Lt,Q as bl,r as gl}from"./QSelect.56e8e954.js";import{Q as Me,b as De,d as ml}from"./QMenu.1879ff20.js";import{C as Ie,F as hl,f as yl,_ as Sl,a as wl}from"./FormModal.7bac0fbd.js";var Cl=be({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:n,emit:a}){const i=ge(),{proxy:{$q:l}}=i,d=o=>{a("click",o)};return()=>{if(e.props===void 0)return s("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:d},xe(n.default));let o,u;const f=i.vnode.key;if(f){if(o=e.props.colsMap[f],o===void 0)return}else o=e.props.col;if(o.sortable===!0){const r=o.align==="right"?"unshift":"push";u=Qt(n.default,[]),u[r](s(we,{class:o.__iconClass,name:l.iconSet.table.arrowUp}))}else u=xe(n.default);const h={class:o.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:o.headerStyle,onClick:r=>{o.sortable===!0&&e.props.sort(o),d(r)}};return s("th",h,u)}}});const _l=["horizontal","vertical","cell","none"];var ql=be({name:"QMarkupTable",props:{...ft,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>_l.includes(e)}},setup(e,{slots:n}){const a=ge(),i=bt(e,a.proxy.$q),l=v(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(i.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>s("div",{class:l.value},[s("table",{class:"q-table"},xe(n.default))])}});function At(e,n){return s("div",e,[s("table",{class:"q-table"},n)])}const Pl={list:Ft,table:ql},kl=["list","table","__qtable"];var Tl=be({name:"QVirtualScroll",props:{...vl,type:{type:String,default:"list",validator:e=>kl.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:zt},setup(e,{slots:n,attrs:a}){let i;const l=I(null),d=v(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:o,localResetVirtualScroll:u,padVirtualScroll:f,onVirtualScrollEvt:h}=fl({virtualScrollLength:d,getVirtualScrollTarget:x,getVirtualScrollEl:y}),r=v(()=>{if(d.value===0)return[];const N=(S,T)=>({index:o.value.from+T,item:S});return e.itemsFn===void 0?e.items.slice(o.value.from,o.value.to).map(N):e.itemsFn(o.value.from,o.value.to-o.value.from).map(N)}),g=v(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),P=v(()=>e.scrollTarget!==void 0?{}:{tabindex:0});ae(d,()=>{u()}),ae(()=>e.scrollTarget,()=>{w(),C()});function y(){return l.value.$el||l.value}function x(){return i}function C(){i=Ut(y(),e.scrollTarget),i.addEventListener("scroll",h,St.passive)}function w(){i!==void 0&&(i.removeEventListener("scroll",h,St.passive),i=void 0)}function D(){let N=f(e.type==="list"?"div":"tbody",r.value.map(n.default));return n.before!==void 0&&(N=n.before().concat(N)),mt(n.after,N)}return Rt(()=>{u()}),gt(()=>{C()}),xt(()=>{C()}),$t(()=>{w()}),tt(()=>{w()}),()=>{if(n.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?At({ref:l,class:"q-table__middle "+g.value},D()):s(Pl[e.type],{...a,ref:l,class:[a.class,g.value],...P.value},D)}}});const pl={xs:2,sm:4,md:6,lg:10,xl:14};function Pt(e,n,a){return{transform:n===!0?`translateX(${a.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var Rl=be({name:"QLinearProgress",props:{...ft,...Wt,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:n}){const{proxy:a}=ge(),i=bt(e,a.$q),l=Kt(e,pl),d=v(()=>e.indeterminate===!0||e.query===!0),o=v(()=>e.reverse!==e.query),u=v(()=>({...l.value!==null?l.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),f=v(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),h=v(()=>Pt(e.buffer!==void 0?e.buffer:1,o.value,a.$q)),r=v(()=>`with${e.instantFeedback===!0?"out":""}-transition`),g=v(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${r.value} q-linear-progress__track--${i.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),P=v(()=>Pt(d.value===!0?1:e.value,o.value,a.$q)),y=v(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${r.value} q-linear-progress__model--${d.value===!0?"in":""}determinate`),x=v(()=>({width:`${e.value*100}%`})),C=v(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${r.value}`);return()=>{const w=[s("div",{class:g.value,style:h.value}),s("div",{class:y.value,style:P.value})];return e.stripe===!0&&d.value===!1&&w.push(s("div",{class:C.value,style:x.value})),s("div",{class:f.value,style:u.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},mt(n.default,w))}}});let Ee=0;const xl={fullscreen:Boolean,noRouteFullscreenExit:Boolean},$l=["update:fullscreen","fullscreen"];function Bl(){const e=ge(),{props:n,emit:a,proxy:i}=e;let l,d,o;const u=I(!1);Gt(e)===!0&&ae(()=>i.$route.fullPath,()=>{n.noRouteFullscreenExit!==!0&&r()}),ae(()=>n.fullscreen,g=>{u.value!==g&&f()}),ae(u,g=>{a("update:fullscreen",g),a("fullscreen",g)});function f(){u.value===!0?r():h()}function h(){u.value!==!0&&(u.value=!0,o=i.$el.parentNode,o.replaceChild(d,i.$el),document.body.appendChild(i.$el),Ee++,Ee===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:r},wt.add(l))}function r(){u.value===!0&&(l!==void 0&&(wt.remove(l),l=void 0),o.replaceChild(i.$el,d),u.value=!1,Ee=Math.max(0,Ee-1),Ee===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),i.$el.scrollIntoView!==void 0&&setTimeout(()=>{i.$el.scrollIntoView()})))}return Rt(()=>{d=document.createElement("span")}),gt(()=>{n.fullscreen===!0&&h()}),tt(r),Object.assign(i,{toggleFullscreen:f,setFullscreen:h,exitFullscreen:r}),{inFullscreen:u,toggleFullscreen:f}}function Ol(e,n){return new Date(e)-new Date(n)}const Fl={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Ll(e,n,a,i){const l=v(()=>{const{sortBy:u}=n.value;return u&&a.value.find(f=>f.name===u)||null}),d=v(()=>e.sortMethod!==void 0?e.sortMethod:(u,f,h)=>{const r=a.value.find(y=>y.name===f);if(r===void 0||r.field===void 0)return u;const g=h===!0?-1:1,P=typeof r.field=="function"?y=>r.field(y):y=>y[r.field];return u.sort((y,x)=>{let C=P(y),w=P(x);return r.rawSort!==void 0?r.rawSort(C,w,y,x)*g:C==null?-1*g:w==null?1*g:r.sort!==void 0?r.sort(C,w,y,x)*g:ct(C)===!0&&ct(w)===!0?(C-w)*g:Ct(C)===!0&&Ct(w)===!0?Ol(C,w)*g:typeof C=="boolean"&&typeof w=="boolean"?(C-w)*g:([C,w]=[C,w].map(D=>(D+"").toLocaleString().toLowerCase()),C<w?-1*g:C===w?0:g)})});function o(u){let f=e.columnSortOrder;if(Xt(u)===!0)u.sortOrder&&(f=u.sortOrder),u=u.name;else{const g=a.value.find(P=>P.name===u);g!==void 0&&g.sortOrder&&(f=g.sortOrder)}let{sortBy:h,descending:r}=n.value;h!==u?(h=u,r=f==="da"):e.binaryStateSort===!0?r=!r:r===!0?f==="ad"?h=null:r=!1:f==="ad"?r=!0:h=null,i({sortBy:h,descending:r,page:1})}return{columnToSort:l,computedSortMethod:d,sort:o}}const Al={filter:[String,Object],filterMethod:Function};function Ml(e,n){const a=v(()=>e.filterMethod!==void 0?e.filterMethod:(i,l,d,o)=>{const u=l?l.toLowerCase():"";return i.filter(f=>d.some(h=>{const r=o(h,f)+"";return(r==="undefined"||r==="null"?"":r.toLowerCase()).indexOf(u)!==-1}))});return ae(()=>e.filter,()=>{Bt(()=>{n({page:1},!0)})},{deep:!0}),{computedFilterMethod:a}}function Dl(e,n){for(const a in n)if(n[a]!==e[a])return!1;return!0}function kt(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Il={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function El(e,n){const{props:a,emit:i}=e,l=I(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:a.rowsPerPageOptions.length!==0?a.rowsPerPageOptions[0]:5},a.pagination)),d=v(()=>{const r=a["onUpdate:pagination"]!==void 0?{...l.value,...a.pagination}:l.value;return kt(r)}),o=v(()=>d.value.rowsNumber!==void 0);function u(r){f({pagination:r,filter:a.filter})}function f(r={}){Bt(()=>{i("request",{pagination:r.pagination||d.value,filter:r.filter||a.filter,getCellValue:n})})}function h(r,g){const P=kt({...d.value,...r});if(Dl(d.value,P)===!0){o.value===!0&&g===!0&&u(P);return}if(o.value===!0){u(P);return}a.pagination!==void 0&&a["onUpdate:pagination"]!==void 0?i("update:pagination",P):l.value=P}return{innerPagination:l,computedPagination:d,isServerSide:o,requestServerInteraction:f,setPagination:h}}function Vl(e,n,a,i,l,d){const{props:o,emit:u,proxy:{$q:f}}=e,h=v(()=>i.value===!0?a.value.rowsNumber||0:d.value),r=v(()=>{const{page:T,rowsPerPage:B}=a.value;return(T-1)*B}),g=v(()=>{const{page:T,rowsPerPage:B}=a.value;return T*B}),P=v(()=>a.value.page===1),y=v(()=>a.value.rowsPerPage===0?1:Math.max(1,Math.ceil(h.value/a.value.rowsPerPage))),x=v(()=>g.value===0?!0:a.value.page>=y.value),C=v(()=>(o.rowsPerPageOptions.includes(n.value.rowsPerPage)?o.rowsPerPageOptions:[n.value.rowsPerPage].concat(o.rowsPerPageOptions)).map(B=>({label:B===0?f.lang.table.allRows:""+B,value:B})));ae(y,(T,B)=>{if(T===B)return;const M=a.value.page;T&&!M?l({page:1}):T<M&&l({page:T})});function w(){l({page:1})}function D(){const{page:T}=a.value;T>1&&l({page:T-1})}function N(){const{page:T,rowsPerPage:B}=a.value;g.value>0&&T*B<h.value&&l({page:T+1})}function S(){l({page:y.value})}return o["onUpdate:pagination"]!==void 0&&u("update:pagination",{...a.value}),{firstRowIndex:r,lastRowIndex:g,isFirstPage:P,isLastPage:x,pagesNumber:y,computedRowsPerPageOptions:C,computedRowsNumber:h,firstPage:w,prevPage:D,nextPage:N,lastPage:S}}const Nl={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},jl=["update:selected","selection"];function Hl(e,n,a,i){const l=v(()=>{const x={};return e.selected.map(i.value).forEach(C=>{x[C]=!0}),x}),d=v(()=>e.selection!=="none"),o=v(()=>e.selection==="single"),u=v(()=>e.selection==="multiple"),f=v(()=>a.value.length!==0&&a.value.every(x=>l.value[i.value(x)]===!0)),h=v(()=>f.value!==!0&&a.value.some(x=>l.value[i.value(x)]===!0)),r=v(()=>e.selected.length);function g(x){return l.value[x]===!0}function P(){n("update:selected",[])}function y(x,C,w,D){n("selection",{rows:C,added:w,keys:x,evt:D});const N=o.value===!0?w===!0?C:[]:w===!0?e.selected.concat(C):e.selected.filter(S=>x.includes(i.value(S))===!1);n("update:selected",N)}return{hasSelectionMode:d,singleSelection:o,multipleSelection:u,allRowsSelected:f,someRowsSelected:h,rowsSelectedNumber:r,isRowSelected:g,clearSelection:P,updateSelection:y}}function Tt(e){return Array.isArray(e)?e.slice():[]}const Ql={expanded:Array},zl=["update:expanded"];function Ul(e,n){const a=I(Tt(e.expanded));ae(()=>e.expanded,o=>{a.value=Tt(o)});function i(o){return a.value.includes(o)}function l(o){e.expanded!==void 0?n("update:expanded",o):a.value=o}function d(o,u){const f=a.value.slice(),h=f.indexOf(o);u===!0?h===-1&&(f.push(o),l(f)):h!==-1&&(f.splice(h,1),l(f))}return{isRowExpanded:i,setExpanded:l,updateExpanded:d}}const Wl={visibleColumns:Array};function Kl(e,n,a){const i=v(()=>{if(e.columns!==void 0)return e.columns;const u=e.rows[0];return u!==void 0?Object.keys(u).map(f=>({name:f,label:f.toUpperCase(),field:f,align:ct(u[f])?"right":"left",sortable:!0})):[]}),l=v(()=>{const{sortBy:u,descending:f}=n.value;return(e.visibleColumns!==void 0?i.value.filter(r=>r.required===!0||e.visibleColumns.includes(r.name)===!0):i.value).map(r=>{const g=r.align||"right",P=`text-${g}`;return{...r,align:g,__iconClass:`q-table__sort-icon q-table__sort-icon--${g}`,__thClass:P+(r.headerClasses!==void 0?" "+r.headerClasses:"")+(r.sortable===!0?" sortable":"")+(r.name===u?` sorted ${f===!0?"sort-desc":""}`:""),__tdStyle:r.style!==void 0?typeof r.style!="function"?()=>r.style:r.style:()=>null,__tdClass:r.classes!==void 0?typeof r.classes!="function"?()=>P+" "+r.classes:y=>P+" "+r.classes(y):()=>P}})}),d=v(()=>{const u={};return l.value.forEach(f=>{u[f.name]=f}),u}),o=v(()=>e.tableColspan!==void 0?e.tableColspan:l.value.length+(a.value===!0?1:0));return{colList:i,computedCols:l,computedColsMap:d,computedColspan:o}}const Ye="q-table__bottom row items-center",Mt={};Lt.forEach(e=>{Mt[e]={}});var Gl=be({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...Mt,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...ft,...xl,...Wl,...Al,...Il,...Ql,...Nl,...Fl},emits:["request","virtualScroll",...$l,...zl,...jl],setup(e,{slots:n,emit:a}){const i=ge(),{proxy:{$q:l}}=i,d=bt(e,l),{inFullscreen:o,toggleFullscreen:u}=Bl(),f=v(()=>typeof e.rowKey=="function"?e.rowKey:t=>t[e.rowKey]),h=I(null),r=I(null),g=v(()=>e.grid!==!0&&e.virtualScroll===!0),P=v(()=>" q-table__card"+(d.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),y=v(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":P.value)+(d.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(o.value===!0?" fullscreen scroll":"")),x=v(()=>y.value+(e.loading===!0?" q-table--loading":""));ae(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+y.value,()=>{g.value===!0&&r.value!==null&&r.value.reset()});const{innerPagination:C,computedPagination:w,isServerSide:D,requestServerInteraction:N,setPagination:S}=El(i,de),{computedFilterMethod:T}=Ml(e,S),{isRowExpanded:B,setExpanded:M,updateExpanded:G}=Ul(e,a),z=v(()=>{let t=e.rows;if(D.value===!0||t.length===0)return t;const{sortBy:b,descending:q}=w.value;return e.filter&&(t=T.value(t,e.filter,ee.value,de)),He.value!==null&&(t=Qe.value(e.rows===t?t.slice():t,b,q)),t}),X=v(()=>z.value.length),_=v(()=>{let t=z.value;if(D.value===!0)return t;const{rowsPerPage:b}=w.value;return b!==0&&(_e.value===0&&e.rows!==t?t.length>qe.value&&(t=t.slice(0,qe.value)):t=t.slice(_e.value,qe.value)),t}),{hasSelectionMode:L,singleSelection:j,multipleSelection:W,allRowsSelected:k,someRowsSelected:p,rowsSelectedNumber:Y,isRowSelected:me,clearSelection:Ce,updateSelection:he}=Hl(e,a,_,f),{colList:lt,computedCols:ee,computedColsMap:ie,computedColspan:$e}=Kl(e,w,L),{columnToSort:He,computedSortMethod:Qe,sort:ne}=Ll(e,w,lt,S),{firstRowIndex:_e,lastRowIndex:qe,isFirstPage:Be,isLastPage:Pe,pagesNumber:ke,computedRowsPerPageOptions:at,computedRowsNumber:Te,firstPage:ce,prevPage:pe,nextPage:Oe,lastPage:Fe}=Vl(i,C,w,D,S,X),ze=v(()=>_.value.length===0),Ue=v(()=>{const t={};return Lt.forEach(b=>{t[b]=e[b]}),t.virtualScrollItemSize===void 0&&(t.virtualScrollItemSize=e.dense===!0?28:48),t});function We(){g.value===!0&&r.value.reset()}function c(){if(e.grid===!0)return jt();const t=e.hideHeader!==!0?ht:null;if(g.value===!0){const q=n["top-row"],R=n["bottom-row"],O={default:U=>V(U.item,n.body,U.index)};if(q!==void 0){const U=s("tbody",q({cols:ee.value}));O.before=t===null?()=>U:()=>[t()].concat(U)}else t!==null&&(O.before=t);return R!==void 0&&(O.after=()=>s("tbody",R({cols:ee.value}))),s(Tl,{ref:r,class:e.tableClass,style:e.tableStyle,...Ue.value,scrollTarget:e.virtualScrollTarget,items:_.value,type:"__qtable",tableColspan:$e.value,onVirtualScroll:$},O)}const b=[A()];return t!==null&&b.unshift(t()),At({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},b)}function m(t,b){if(r.value!==null){r.value.scrollTo(t,b);return}t=parseInt(t,10);const q=h.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(q!==null){const R=h.value.querySelector(".q-table__middle.scroll"),O=q.offsetTop-e.virtualScrollStickySizeStart,U=O<R.scrollTop?"decrease":"increase";R.scrollTop=O,a("virtualScroll",{index:t,from:0,to:C.value.rowsPerPage-1,direction:U})}}function $(t){a("virtualScroll",t)}function E(){return[s(Rl,{class:"q-table__linear-progress",color:e.color,dark:d.value,indeterminate:!0,trackColor:"transparent"})]}function V(t,b,q){const R=f.value(t),O=me(R);if(b!==void 0)return b(F({key:R,row:t,pageIndex:q,__trClass:O?"selected":""}));const U=n["body-cell"],H=ee.value.map(te=>{const Ge=n[`body-cell-${te.name}`],Xe=Ge!==void 0?Ge:U;return Xe!==void 0?Xe(J({key:R,row:t,pageIndex:q,col:te})):s("td",{class:te.__tdClass(t),style:te.__tdStyle(t)},de(te,t))});if(L.value===!0){const te=n["body-selection"],Ge=te!==void 0?te(oe({key:R,row:t,pageIndex:q})):[s(ot,{modelValue:O,color:e.color,dark:d.value,dense:e.dense,"onUpdate:modelValue":(Xe,Ht)=>{he([R],[t],Xe,Ht)}})];H.unshift(s("td",{class:"q-table--col-auto-width"},Ge))}const se={key:R,class:{selected:O}};return e.onRowClick!==void 0&&(se.class["cursor-pointer"]=!0,se.onClick=te=>{a("rowClick",te,t,q)}),e.onRowDblclick!==void 0&&(se.class["cursor-pointer"]=!0,se.onDblclick=te=>{a("rowDblclick",te,t,q)}),e.onRowContextmenu!==void 0&&(se.class["cursor-pointer"]=!0,se.onContextmenu=te=>{a("rowContextmenu",te,t,q)}),s("tr",se,H)}function A(){const t=n.body,b=n["top-row"],q=n["bottom-row"];let R=_.value.map((O,U)=>V(O,t,U));return b!==void 0&&(R=b({cols:ee.value}).concat(R)),q!==void 0&&(R=R.concat(q({cols:ee.value}))),s("tbody",R)}function F(t){return ye(t),t.cols=t.cols.map(b=>Ae({...b},"value",()=>de(b,t.row))),t}function J(t){return ye(t),Ae(t,"value",()=>de(t.col,t.row)),t}function oe(t){return ye(t),t}function ye(t){Object.assign(t,{cols:ee.value,colsMap:ie.value,sort:ne,rowIndex:_e.value+t.pageIndex,color:e.color,dark:d.value,dense:e.dense}),L.value===!0&&Ae(t,"selected",()=>me(t.key),(b,q)=>{he([t.key],[t.row],b,q)}),Ae(t,"expand",()=>B(t.key),b=>{G(t.key,b)})}function de(t,b){const q=typeof t.field=="function"?t.field(b):b[t.field];return t.format!==void 0?t.format(q,b):q}const ve=v(()=>({pagination:w.value,pagesNumber:ke.value,isFirstPage:Be.value,isLastPage:Pe.value,firstPage:ce,prevPage:pe,nextPage:Oe,lastPage:Fe,inFullscreen:o.value,toggleFullscreen:u}));function Le(){const t=n.top,b=n["top-left"],q=n["top-right"],R=n["top-selection"],O=L.value===!0&&R!==void 0&&Y.value>0,U="q-table__top relative-position row items-center";if(t!==void 0)return s("div",{class:U},[t(ve.value)]);let H;if(O===!0?H=R(ve.value).slice():(H=[],b!==void 0?H.push(s("div",{class:"q-table__control"},[b(ve.value)])):e.title&&H.push(s("div",{class:"q-table__control"},[s("div",{class:["q-table__title",e.titleClass]},e.title)]))),q!==void 0&&(H.push(s("div",{class:"q-table__separator col"})),H.push(s("div",{class:"q-table__control"},[q(ve.value)]))),H.length!==0)return s("div",{class:U},H)}const re=v(()=>p.value===!0?null:k.value);function ht(){const t=Dt();return e.loading===!0&&n.loading===void 0&&t.push(s("tr",{class:"q-table__progress"},[s("th",{class:"relative-position",colspan:$e.value},E())])),s("thead",t)}function Dt(){const t=n.header,b=n["header-cell"];if(t!==void 0)return t(nt({header:!0})).slice();const q=ee.value.map(R=>{const O=n[`header-cell-${R.name}`],U=O!==void 0?O:b,H=nt({col:R});return U!==void 0?U(H):s(Cl,{key:R.name,props:H},()=>R.label)});if(j.value===!0&&e.grid!==!0)q.unshift(s("th",{class:"q-table--col-auto-width"}," "));else if(W.value===!0){const R=n["header-selection"],O=R!==void 0?R(nt({})):[s(ot,{color:e.color,modelValue:re.value,dark:d.value,dense:e.dense,"onUpdate:modelValue":yt})];q.unshift(s("th",{class:"q-table--col-auto-width"},O))}return[s("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},q)]}function nt(t){return Object.assign(t,{cols:ee.value,sort:ne,colsMap:ie.value,color:e.color,dark:d.value,dense:e.dense}),W.value===!0&&Ae(t,"selected",()=>re.value,yt),t}function yt(t){p.value===!0&&(t=!1),he(_.value.map(f.value),_.value,t)}const Ke=v(()=>{const t=[e.iconFirstPage||l.iconSet.table.firstPage,e.iconPrevPage||l.iconSet.table.prevPage,e.iconNextPage||l.iconSet.table.nextPage,e.iconLastPage||l.iconSet.table.lastPage];return l.lang.rtl===!0?t.reverse():t});function It(){if(e.hideBottom===!0)return;if(ze.value===!0){if(e.hideNoData===!0)return;const q=e.loading===!0?e.loadingLabel||l.lang.table.loading:e.filter?e.noResultsLabel||l.lang.table.noResults:e.noDataLabel||l.lang.table.noData,R=n["no-data"],O=R!==void 0?[R({message:q,icon:l.iconSet.table.warning,filter:e.filter})]:[s(we,{class:"q-table__bottom-nodata-icon",name:l.iconSet.table.warning}),q];return s("div",{class:Ye+" q-table__bottom--nodata"},O)}const t=n.bottom;if(t!==void 0)return s("div",{class:Ye},[t(ve.value)]);const b=e.hideSelectedBanner!==!0&&L.value===!0&&Y.value>0?[s("div",{class:"q-table__control"},[s("div",[(e.selectedRowsLabel||l.lang.table.selectedRecords)(Y.value)])])]:[];if(e.hidePagination!==!0)return s("div",{class:Ye+" justify-end"},Vt(b));if(b.length!==0)return s("div",{class:Ye},b)}function Et(t){S({page:1,rowsPerPage:t.value})}function Vt(t){let b;const{rowsPerPage:q}=w.value,R=e.paginationLabel||l.lang.table.pagination,O=n.pagination,U=e.rowsPerPageOptions.length>1;if(t.push(s("div",{class:"q-table__separator col"})),U===!0&&t.push(s("div",{class:"q-table__control"},[s("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||l.lang.table.recordsPerPage]),s(bl,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:q,options:at.value,displayValue:q===0?l.lang.table.allRows:q,dark:d.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Et})])),O!==void 0)b=O(ve.value);else if(b=[s("span",q!==0?{class:"q-table__bottom-item"}:{},[q?R(_e.value+1,Math.min(qe.value,Te.value),Te.value):R(1,X.value,Te.value)])],q!==0&&ke.value>1){const H={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(H.size="sm"),ke.value>2&&b.push(s(fe,{key:"pgFirst",...H,icon:Ke.value[0],disable:Be.value,onClick:ce})),b.push(s(fe,{key:"pgPrev",...H,icon:Ke.value[1],disable:Be.value,onClick:pe}),s(fe,{key:"pgNext",...H,icon:Ke.value[2],disable:Pe.value,onClick:Oe})),ke.value>2&&b.push(s(fe,{key:"pgLast",...H,icon:Ke.value[3],disable:Pe.value,onClick:Fe}))}return t.push(s("div",{class:"q-table__control"},b)),t}function Nt(){const t=e.gridHeader===!0?[s("table",{class:"q-table"},[ht()])]:e.loading===!0&&n.loading===void 0?E():void 0;return s("div",{class:"q-table__middle"},t)}function jt(){const t=n.item!==void 0?n.item:b=>{const q=b.cols.map(O=>s("div",{class:"q-table__grid-item-row"},[s("div",{class:"q-table__grid-item-title"},[O.label]),s("div",{class:"q-table__grid-item-value"},[O.value])]));if(L.value===!0){const O=n["body-selection"],U=O!==void 0?O(b):[s(ot,{modelValue:b.selected,color:e.color,dark:d.value,dense:e.dense,"onUpdate:modelValue":(H,se)=>{he([b.key],[b.row],H,se)}})];q.unshift(s("div",{class:"q-table__grid-item-row"},U),s(Jt,{dark:d.value}))}const R={class:["q-table__grid-item-card"+P.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(R.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(R.onClick=O=>{a("RowClick",O,b.row,b.pageIndex)}),e.onRowDblclick!==void 0&&(R.onDblclick=O=>{a("RowDblclick",O,b.row,b.pageIndex)})),s("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(b.selected===!0?" q-table__grid-item--selected":"")},[s("div",R,q)])};return s("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},_.value.map((b,q)=>t(F({key:f.value(b),row:b,pageIndex:q}))))}return Object.assign(i.proxy,{requestServerInteraction:N,setPagination:S,firstPage:ce,prevPage:pe,nextPage:Oe,lastPage:Fe,isRowSelected:me,clearSelection:Ce,isRowExpanded:B,setExpanded:M,sort:ne,resetVirtualScroll:We,scrollTo:m,getCellValue:de}),Yt(i.proxy,{filteredSortedRows:()=>z.value,computedRows:()=>_.value,computedRowsNumber:()=>Te.value}),()=>{const t=[Le()],b={ref:h,class:x.value};return e.grid===!0?t.push(Nt()):Object.assign(b,{class:[b.class,e.cardClass],style:e.cardStyle}),t.push(c(),It()),e.loading===!0&&n.loading!==void 0&&t.push(n.loading()),s("div",b,t)}}});function Xl(){return{deleteDialog:(e=()=>{})=>Zt.create({title:"Delete",message:"Are you sure you want to delete the selected record(s)?",ok:"Yes",cancel:"No",persistent:!0}).onOk(()=>e()).onCancel(()=>{})}}const Je="paginated",Yl="fetch_all",ut={sortBy:"id",descending:!0,page:1,rowsPerPage:10,rowsNumber:10};function Jl({title:e="",url:n="",conditions:a=""}){const i=I(),l=I([]),d=I(""),o=I(!1),u=I([]),f=I(n),h=I(ut),r={path:f,selected:l,filter:d,loading:o,tableData:u,pagination:h},g={loading:{start:()=>o.value=!0,stop:()=>o.value=!1},pagination:{update:_=>{Object.assign(h.value,_)}}},P={params:{beforeInitial:_=>_,beforeRefetch:_=>_,resolvedParams:_=>_}},{errorIndexNotify:y,saveNotify:x}=el(),{deleteDialog:C}=Xl();function w({mode:_=Je,emit:L=j=>{}}){o.value=!0;const j={params:{}};a&&X(a,(k,p)=>{j.params[k]=p});const W=P.params.resolvedParams(P.params.beforeInitial(j));rt.get(n,W).then(({data:k})=>{u.value=k.data,L(k)}).catch(k=>{console.error(k),y()}).finally(()=>{o.value=!1})}function D({mode:_=Je,emit:L=j=>{}}){const j=G({mode:_,pagination:h.value,search:d.value,filters:a}),W=P.params.resolvedParams(P.params.beforeRefetch(j));g.loading.start(),rt.get(n,W).then(({data:k})=>{u.value=k.data,g.pagination.update({page:k.current_page,rowsPerPage:k.per_page,rowsNumber:k.total}),L(k)}).catch(k=>{console.error(k),y()}).finally(()=>{g.loading.stop()})}function N(_){const L=z(_);L&&C(()=>{g.loading.start(),rt.delete(n+"/"+L).then(({data:W})=>{l.value=[],B(),x({mode:"Deleted",title:e})}).catch(W=>{})})}function S(_){g.pagination.update(_.pagination),B()}function T(){M(),B()}function B(){D({})}function M(){Object.assign(h.value,{page:1,sortBy:"id",descending:!0})}function G({mode:_=Je,pagination:L=ut,search:j="",filters:W=""}){switch(_){case Je:const k={params:{page:L.page,per_page:L.rowsPerPage}};return j&&(k.params.search=j),L.sortBy&&(k.params.sort=`${L.descending?"-":""}${L.sortBy}`),W&&X(W,(p,Y)=>{k.params[p]=Y}),k;case Yl:return{};default:return{}}}function z(_){if(_===null)return!1;if(Array.isArray(_)){const L=_[0];return typeof L=="object"&&L!==null&&"id"in L?_.map(j=>j.id).join(","):_.join(",")}else return typeof _=="object"&&_!==null&&"id"in _?_.id:typeof _=="number"||typeof _=="string"&&/\d/.test(_)?_:!1}function X(_,L=(j,W)=>{}){return _.split("&").reduce((j,W)=>{const[k,p]=W.split("=");return L(k,decodeURIComponent(p)),j},{})}return{...r,table:i,initialPagination:ut,reference:r,hooksCycle:P,actions:g,getInitialData:w,refetch:D,resetFetch:T,deleteRecord:N,resetPagination:M,refresh:B,onRequestFetch:S}}var Zl=be({name:"QTd",props:{props:Object,autoWidth:Boolean,noHover:Boolean},setup(e,{slots:n}){const a=ge(),i=v(()=>"q-td"+(e.autoWidth===!0?" q-table--col-auto-width":"")+(e.noHover===!0?" q-td--no-hover":"")+" ");return()=>{if(e.props===void 0)return s("td",{class:i.value},xe(n.default));const l=a.vnode.key,d=(e.props.colsMap!==void 0?e.props.colsMap[l]:null)||e.props.col;if(d===void 0)return;const{row:o}=e.props;return s("td",{class:i.value+d.__tdClass(o),style:d.__tdStyle(o)},xe(n.default))}}});const ea=je("span",{class:"q-mx-xs"},null,-1),ta=je("span",{class:"q-mx-xs"},null,-1),la=je("span",{class:"q-mx-xs"},null,-1),aa={__name:"IndexMenu",props:{loading:Boolean},emits:["onNew","onDelete","onShow","onRefresh"],setup(e,{emit:n}){const a=e;return(i,l)=>(le(),Ne("div",null,[Z(fe,{onClick:l[0]||(l[0]=d=>i.$emit("onNew")),round:"",color:"primary",size:"sm",icon:"add",disable:a.loading},null,8,["disable"]),ea,Z(fe,{onClick:l[1]||(l[1]=d=>i.$emit("onDelete")),disable:a.loading,round:"",color:"red",size:"sm",icon:"delete"},null,8,["disable"]),ta,Z(fe,{disable:a.loading,round:"",color:"green",size:"sm",icon:"refresh",onClick:l[2]||(l[2]=d=>i.$emit("onRefresh"))},null,8,["disable"]),la,Z(fe,{disable:a.loading,round:"",color:"secondary",size:"sm",icon:"more_horiz"},null,8,["disable"])]))}},na="edit",oa="delete",ra="show",ia={__name:"ContextMenu",props:{hide:{type:Array,default:()=>[]},append:{type:Array,default:()=>[]},prepend:{type:Array,default:()=>[]}},emits:["onEdit","onDelete","onShow","onAppend","onPrepend"],setup(e,{emit:n}){const a=e,i=n;return(l,d)=>(le(),ue(ml,{"touch-position":"","context-menu":""},{default:K(()=>[Z(Ft,{dense:"",style:{"min-width":"100px"}},{default:K(()=>[(le(!0),Ne(dt,null,vt(e.prepend,(o,u)=>Re((le(),ue(Me,{key:u,onClick:f=>i("onPrepend",o.name),clickable:""},{default:K(()=>[Z(De,null,{default:K(()=>[Se(Ve(o.label),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[Ie]])),128)),a.hide.includes(ra)?Ze("",!0):Re((le(),ue(Me,{key:0,onClick:d[0]||(d[0]=o=>l.$emit("onShow")),clickable:""},{default:K(()=>[Z(De,null,{default:K(()=>[Se(" Show ")]),_:1})]),_:1})),[[Ie]]),a.hide.includes(na)?Ze("",!0):Re((le(),ue(Me,{key:1,onClick:d[1]||(d[1]=o=>l.$emit("onEdit")),clickable:""},{default:K(()=>[Z(De,null,{default:K(()=>[Se(" Edit ")]),_:1})]),_:1})),[[Ie]]),a.hide.includes(oa)?Ze("",!0):Re((le(),ue(Me,{key:2,onClick:d[2]||(d[2]=o=>l.$emit("onDelete")),clickable:""},{default:K(()=>[Z(De,null,{default:K(()=>[Se(" Delete ")]),_:1})]),_:1})),[[Ie]]),(le(!0),Ne(dt,null,vt(e.append,(o,u)=>Re((le(),ue(Me,{key:u,onClick:f=>i("onAppend",o.name),clickable:""},{default:K(()=>[Z(De,null,{default:K(()=>[Se(Ve(o.label),1)]),_:2},1024)]),_:2},1032,["onClick"])),[[Ie]])),128))]),_:1})]),_:1}))}};let sa=0;const ua=["click","keydown"],ca={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${sa++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function da(e,n,a,i){const l=tl(Ot,it);if(l===it)return console.error("QTab/QRouteTab component needs to be child of QTabs"),it;const{proxy:d}=ge(),o=I(null),u=I(null),f=I(null),h=v(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),r=v(()=>l.currentModel.value===e.name),g=v(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(r.value===!0?" q-tab--active"+(l.tabProps.value.activeClass?" "+l.tabProps.value.activeClass:"")+(l.tabProps.value.activeColor?` text-${l.tabProps.value.activeColor}`:"")+(l.tabProps.value.activeBgColor?` bg-${l.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&l.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||l.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(i!==void 0?i.linkClass.value:"")),P=v(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(l.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),y=v(()=>e.disable===!0||l.hasFocus.value===!0||r.value===!1&&l.hasActiveTab.value===!0?-1:e.tabindex||0);function x(S,T){if(T!==!0&&o.value!==null&&o.value.focus(),e.disable===!0){i!==void 0&&i.hasRouterLink.value===!0&&_t(S);return}if(i===void 0){l.updateModel({name:e.name}),a("click",S);return}if(i.hasRouterLink.value===!0){const B=(M={})=>{let G;const z=M.to===void 0||ol(M.to,e.to)===!0?l.avoidRouteWatcher=rl():null;return i.navigateToRouterLink(S,{...M,returnRouterError:!0}).catch(X=>{G=X}).then(X=>{if(z===l.avoidRouteWatcher&&(l.avoidRouteWatcher=!1,G===void 0&&(X===void 0||X.message!==void 0&&X.message.startsWith("Avoided redundant navigation")===!0)&&l.updateModel({name:e.name})),M.returnRouterError===!0)return G!==void 0?Promise.reject(G):X})};a("click",S,B),S.defaultPrevented!==!0&&B();return}a("click",S)}function C(S){al(S,[13,32])?x(S,!0):nl(S)!==!0&&S.keyCode>=35&&S.keyCode<=40&&S.altKey!==!0&&S.metaKey!==!0&&l.onKbdNavigate(S.keyCode,d.$el)===!0&&_t(S),a("keydown",S)}function w(){const S=l.tabProps.value.narrowIndicator,T=[],B=s("div",{ref:f,class:["q-tab__indicator",l.tabProps.value.indicatorClass]});e.icon!==void 0&&T.push(s(we,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&T.push(s("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&T.push(e.alertIcon!==void 0?s(we,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):s("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),S===!0&&T.push(B);const M=[s("div",{class:"q-focus-helper",tabindex:-1,ref:o}),s("div",{class:P.value},mt(n.default,T))];return S===!1&&M.push(B),M}const D={name:v(()=>e.name),rootRef:u,tabIndicatorRef:f,routeData:i};tt(()=>{l.unregisterTab(D)}),gt(()=>{l.registerTab(D)});function N(S,T){const B={ref:u,class:g.value,tabindex:y.value,role:"tab","aria-selected":r.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:x,onKeydown:C,...T};return Re(s(S,B,w()),[[ll,h.value]])}return{renderTab:N,$tabs:l}}var pt=be({name:"QTab",props:ca,emits:ua,setup(e,{slots:n,emit:a}){const{renderTab:i}=da(e,n,a);return()=>i("div")}});function va(e,n,a){const i=a===!0?["left","right"]:["top","bottom"];return`absolute-${n===!0?i[0]:i[1]}${e?` text-${e}`:""}`}const fa=["left","center","right","justify"];var ba=be({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>fa.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:n,emit:a}){const{proxy:i}=ge(),{$q:l}=i,{registerTick:d}=st(),{registerTick:o}=st(),{registerTick:u}=st(),{registerTimeout:f,removeTimeout:h}=qt(),{registerTimeout:r,removeTimeout:g}=qt(),P=I(null),y=I(null),x=I(e.modelValue),C=I(!1),w=I(!0),D=I(!1),N=I(!1),S=[],T=I(0),B=I(!1);let M=null,G=null,z;const X=v(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:va(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),_=v(()=>{const c=T.value,m=x.value;for(let $=0;$<c;$++)if(S[$].name.value===m)return!0;return!1}),L=v(()=>`q-tabs__content--align-${C.value===!0?"left":N.value===!0?"justify":e.align}`),j=v(()=>`q-tabs row no-wrap items-center q-tabs--${C.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),W=v(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+L.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),k=v(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),p=v(()=>e.vertical!==!0&&l.lang.rtl===!0),Y=v(()=>gl===!1&&p.value===!0);ae(p,ie),ae(()=>e.modelValue,c=>{me({name:c,setCurrent:!0,skipEmit:!0})}),ae(()=>e.outsideArrows,Ce);function me({name:c,setCurrent:m,skipEmit:$}){x.value!==c&&($!==!0&&e["onUpdate:modelValue"]!==void 0&&a("update:modelValue",c),(m===!0||e["onUpdate:modelValue"]===void 0)&&(lt(x.value,c),x.value=c))}function Ce(){d(()=>{he({width:P.value.offsetWidth,height:P.value.offsetHeight})})}function he(c){if(k.value===void 0||y.value===null)return;const m=c[k.value.container],$=Math.min(y.value[k.value.scroll],Array.prototype.reduce.call(y.value.children,(V,A)=>V+(A[k.value.content]||0),0)),E=m>0&&$>m;C.value=E,E===!0&&o(ie),N.value=m<parseInt(e.breakpoint,10)}function lt(c,m){const $=c!=null&&c!==""?S.find(V=>V.name.value===c):null,E=m!=null&&m!==""?S.find(V=>V.name.value===m):null;if($&&E){const V=$.tabIndicatorRef.value,A=E.tabIndicatorRef.value;M!==null&&(clearTimeout(M),M=null),V.style.transition="none",V.style.transform="none",A.style.transition="none",A.style.transform="none";const F=V.getBoundingClientRect(),J=A.getBoundingClientRect();A.style.transform=e.vertical===!0?`translate3d(0,${F.top-J.top}px,0) scale3d(1,${J.height?F.height/J.height:1},1)`:`translate3d(${F.left-J.left}px,0,0) scale3d(${J.width?F.width/J.width:1},1,1)`,u(()=>{M=setTimeout(()=>{M=null,A.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",A.style.transform="none"},70)})}E&&C.value===!0&&ee(E.rootRef.value)}function ee(c){const{left:m,width:$,top:E,height:V}=y.value.getBoundingClientRect(),A=c.getBoundingClientRect();let F=e.vertical===!0?A.top-E:A.left-m;if(F<0){y.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(F),ie();return}F+=e.vertical===!0?A.height-V:A.width-$,F>0&&(y.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(F),ie())}function ie(){const c=y.value;if(c===null)return;const m=c.getBoundingClientRect(),$=e.vertical===!0?c.scrollTop:Math.abs(c.scrollLeft);p.value===!0?(w.value=Math.ceil($+m.width)<c.scrollWidth-1,D.value=$>0):(w.value=$>0,D.value=e.vertical===!0?Math.ceil($+m.height)<c.scrollHeight:Math.ceil($+m.width)<c.scrollWidth)}function $e(c){G!==null&&clearInterval(G),G=setInterval(()=>{Be(c)===!0&&ne()},5)}function He(){$e(Y.value===!0?Number.MAX_SAFE_INTEGER:0)}function Qe(){$e(Y.value===!0?0:Number.MAX_SAFE_INTEGER)}function ne(){G!==null&&(clearInterval(G),G=null)}function _e(c,m){const $=Array.prototype.filter.call(y.value.children,J=>J===m||J.matches&&J.matches(".q-tab.q-focusable")===!0),E=$.length;if(E===0)return;if(c===36)return ee($[0]),$[0].focus(),!0;if(c===35)return ee($[E-1]),$[E-1].focus(),!0;const V=c===(e.vertical===!0?38:37),A=c===(e.vertical===!0?40:39),F=V===!0?-1:A===!0?1:void 0;if(F!==void 0){const J=p.value===!0?-1:1,oe=$.indexOf(m)+F*J;return oe>=0&&oe<E&&(ee($[oe]),$[oe].focus({preventScroll:!0})),!0}}const qe=v(()=>Y.value===!0?{get:c=>Math.abs(c.scrollLeft),set:(c,m)=>{c.scrollLeft=-m}}:e.vertical===!0?{get:c=>c.scrollTop,set:(c,m)=>{c.scrollTop=m}}:{get:c=>c.scrollLeft,set:(c,m)=>{c.scrollLeft=m}});function Be(c){const m=y.value,{get:$,set:E}=qe.value;let V=!1,A=$(m);const F=c<A?-1:1;return A+=F*5,A<0?(V=!0,A=0):(F===-1&&A<=c||F===1&&A>=c)&&(V=!0,A=c),E(m,A),ie(),V}function Pe(c,m){for(const $ in c)if(c[$]!==m[$])return!1;return!0}function ke(){let c=null,m={matchedLen:0,queryDiff:9999,hrefLen:0};const $=S.filter(F=>F.routeData!==void 0&&F.routeData.hasRouterLink.value===!0),{hash:E,query:V}=i.$route,A=Object.keys(V).length;for(const F of $){const J=F.routeData.exact.value===!0;if(F.routeData[J===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:oe,query:ye,matched:de,href:ve}=F.routeData.resolvedLink.value,Le=Object.keys(ye).length;if(J===!0){if(oe!==E||Le!==A||Pe(V,ye)===!1)continue;c=F.name.value;break}if(oe!==""&&oe!==E||Le!==0&&Pe(ye,V)===!1)continue;const re={matchedLen:de.length,queryDiff:A-Le,hrefLen:ve.length-oe.length};if(re.matchedLen>m.matchedLen){c=F.name.value,m=re;continue}else if(re.matchedLen!==m.matchedLen)continue;if(re.queryDiff<m.queryDiff)c=F.name.value,m=re;else if(re.queryDiff!==m.queryDiff)continue;re.hrefLen>m.hrefLen&&(c=F.name.value,m=re)}c===null&&S.some(F=>F.routeData===void 0&&F.name.value===x.value)===!0||me({name:c,setCurrent:!0})}function at(c){if(h(),B.value!==!0&&P.value!==null&&c.target&&typeof c.target.closest=="function"){const m=c.target.closest(".q-tab");m&&P.value.contains(m)===!0&&(B.value=!0,C.value===!0&&ee(m))}}function Te(){f(()=>{B.value=!1},30)}function ce(){ze.avoidRouteWatcher===!1?r(ke):g()}function pe(){if(z===void 0){const c=ae(()=>i.$route.fullPath,ce);z=()=>{c(),z=void 0}}}function Oe(c){S.push(c),T.value++,Ce(),c.routeData===void 0||i.$route===void 0?r(()=>{if(C.value===!0){const m=x.value,$=m!=null&&m!==""?S.find(E=>E.name.value===m):null;$&&ee($.rootRef.value)}}):(pe(),c.routeData.hasRouterLink.value===!0&&ce())}function Fe(c){S.splice(S.indexOf(c),1),T.value--,Ce(),z!==void 0&&c.routeData!==void 0&&(S.every(m=>m.routeData===void 0)===!0&&z(),ce())}const ze={currentModel:x,tabProps:X,hasFocus:B,hasActiveTab:_,registerTab:Oe,unregisterTab:Fe,verifyRouteModel:ce,updateModel:me,onKbdNavigate:_e,avoidRouteWatcher:!1};il(Ot,ze);function Ue(){M!==null&&clearTimeout(M),ne(),z!==void 0&&z()}let We;return tt(Ue),$t(()=>{We=z!==void 0,Ue()}),xt(()=>{We===!0&&pe(),Ce()}),()=>s("div",{ref:P,class:j.value,role:"tablist",onFocusin:at,onFocusout:Te},[s(dl,{onResize:he}),s("div",{ref:y,class:W.value,onScroll:ie},xe(n.default)),s(we,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(w.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||l.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:He,onTouchstartPassive:He,onMouseupPassive:ne,onMouseleavePassive:ne,onTouchendPassive:ne}),s(we,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(D.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||l.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:Qe,onTouchstartPassive:Qe,onMouseupPassive:ne,onMouseleavePassive:ne,onTouchendPassive:ne})])}});function ga({append:e=[],prepend:n=[]},a){const{formHandleHooks:i=()=>{},indexHooks:l=()=>{}}=a;function d(o,u,f){o.find(r=>r.name==u).onClick(f,{formHandleHooks:i,indexHooks:l})}return{onAppendClick:(o,u)=>{d(e,o,u)},onPrependClick:(o,u)=>{d(n,o,u)}}}const ma={class:"text-h5 q-pa-sm text-bold"},_a={__name:"ResourceIndex",props:{title:String,url:String,columns:{type:Array,default:()=>[{name:"id",align:"left",label:"Id",field:"id",sortable:!0},{name:"name",align:"left",label:"Name",field:"name",sortable:!0}]},formHandleHooks:{type:Object,default:()=>hl()},indexHooks:{type:Object,default:()=>{}},contextMenuOption:{type:Object,default:()=>({append:[],prepend:[]})},bodyClass:{type:String,default:"q-pa-md"},tabsConfig:Object},setup(e){const{title:n,url:a,columns:i,formHandleHooks:l,indexHooks:d,contextMenuOption:o,bodyClass:u,tabsConfig:f}=e,{form:h,onFormNew:r,onFormEdit:g,onFormShow:P}=l,y=d!=null?d:Jl({title:n,url:a}),{onAppendClick:x,onPrependClick:C}=ga({append:o.append,prepend:o.prepend},{indexHooks:y,formHandleHooks:l}),w=I("all"),D=y.hooksCycle.params.resolvedParams;ae(w,W=>{if(W=="all")y.hooksCycle.params.resolvedParams=D;else{const k=f.tabs.find(p=>p.name==W);y.hooksCycle.params.resolvedParams=p=>(p=D(p),k.params(p),p)}y.refresh()});const N=y.table,S=y.reference,{deleteRecord:T,onRequestFetch:B,resetFetch:M,refresh:G}=y,{selected:z,filter:X,loading:_,tableData:L,pagination:j}=S;return(W,k)=>(le(),Ne("div",{class:ul(e.bodyClass)},[je("span",ma,Ve(e.title)+"s",1),je("span",null,[e.tabsConfig?(le(),ue(ba,{key:0,modelValue:w.value,"onUpdate:modelValue":k[0]||(k[0]=p=>w.value=p),class:"text-primary",dense:"",align:"left"},{default:K(()=>[Z(pt,{name:"all",label:"All"}),(le(!0),Ne(dt,null,vt(e.tabsConfig.tabs,(p,Y)=>(le(),ue(pt,{key:Y,name:p.name},{default:K(()=>[Se(Ve(p.label),1)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])):Ze("",!0),Z(Gl,{flat:"",dense:"",bordered:"",ref_key:"tableRef",ref:N,title:e.title,rows:Q(L),columns:e.columns,"row-key":"id",pagination:Q(j),"onUpdate:pagination":k[3]||(k[3]=p=>et(j)?j.value=p:null),loading:Q(_),filter:Q(X),"binary-state-sort":"",onRequest:Q(B),selected:Q(z),"onUpdate:selected":k[4]||(k[4]=p=>et(z)?z.value=p:null),selection:"multiple"},{"top-left":K(()=>[Z(aa,{loading:Q(_),onOnNew:Q(r),onOnRefresh:Q(G),onOnDelete:k[1]||(k[1]=p=>Q(T)(Q(z)))},null,8,["loading","onOnNew","onOnRefresh"])]),"top-right":K(()=>[Z(sl,{borderless:"",dense:"",debounce:"1000",modelValue:Q(X),"onUpdate:modelValue":k[2]||(k[2]=p=>et(X)?X.value=p:null),placeholder:"Search"},{append:K(()=>[Z(we,{name:"search"})]),_:1},8,["modelValue"])]),"body-cell":K(p=>[Z(Zl,{props:p},{default:K(()=>[Se(Ve(p.value),1)]),_:2},1032,["props"]),Z(ia,{onOnEdit:Y=>Q(g)(p.row),onOnShow:Y=>Q(P)(p.row),onOnDelete:Y=>Q(T)(p.row),append:e.contextMenuOption.append,prepend:e.contextMenuOption.prepend,onOnAppend:Y=>Q(x)(Y,p.row),onOnPrepend:Y=>Q(C)(Y,p.row)},null,8,["onOnEdit","onOnShow","onOnDelete","append","prepend","onOnAppend","onOnPrepend"])]),_:1},8,["title","rows","columns","pagination","loading","filter","onRequest","selected"])])],2))}},qa={__name:"ResourceForm",props:{title:{type:String,default:""},url:{type:String,default:""},initialValues:{type:Object,default:()=>({})},formHooks:{type:Object,default:()=>{}}},emits:yl,setup(e,{expose:n,emit:a}){const{title:i,url:l,initialValues:d,formHooks:o}=e;function u(){return wl({title:i,url:l,initialValues:d})}const f=o||u(),{formShow:h,formMode:r,formProcessing:g,formData:P,formError:y,formReadonly:x,exposedFormFunction:C,handleFormEmit:w,getActions:D}=f,N=a,{onFormCreate:S,onFormUpdate:T}=w(N);return n({...C}),(B,M)=>(le(),ue(Sl,{modelValue:Q(h),"onUpdate:modelValue":M[0]||(M[0]=G=>et(h)?h.value=G:null),mode:Q(r),title:e.title,loading:Q(g),onOnCreate:Q(S),onOnUpdate:Q(T)},{form:K(()=>[cl(B.$slots,"default")]),_:3},8,["modelValue","mode","title","loading","onOnCreate","onOnUpdate"]))}};export{Jl as I,ba as Q,_a as _,qa as a,pt as b,$l as c,Bl as d,xl as u};
